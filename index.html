<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="format-detection" content="telephone=yes">
  <title>Fratelli Pazzi - Aut√©ntica Pizzer√≠a Napolitana en Madrid</title>
  <meta name="description" content="Fratelli Pazzi: aut√©ntica pizzer√≠a napolitana en Madrid. Pizzas artesanas con ingredientes de calidad.">
  <meta name="keywords" content="pizzer√≠a, pizza napolitana, Madrid, comida a domicilio, ofertas">
  <meta property="og:title" content="Fratelli Pazzi - Aut√©ntica Pizzer√≠a Napolitana">
  <meta property="og:description" content="Descubre nuestra carta de pizzas napolitanas y ofertas especiales. Pide online o vis√≠tanos en Madrid.">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap">
  
  <style>
    :root {
      /* Paleta de colores Fratelli Pazzi */
      --cream: #FBF4E8;
      --terracota: #D5786C;
      --sage: #80AF7A;
      --dark-green: #253732;
      --gold: #cdb87c;
      --rich-black: #1e2122;
      
      /* Gradientes modernos */
      --gradient-primary: linear-gradient(135deg, var(--rich-black) 0%, var(--dark-green) 100%);
      --gradient-accent: linear-gradient(135deg, var(--terracota) 0%, #e0958a 100%);
      --gradient-gold: linear-gradient(135deg, var(--gold) 0%, #ddc589 100%);
      --gradient-sage: linear-gradient(135deg, var(--sage) 0%, #8fb584 100%);
      
      /* Sombras suaves */
      --shadow-card: 0 4px 20px rgba(0, 0, 0, 0.08);
      --shadow-hover: 0 8px 40px rgba(0, 0, 0, 0.12);
      --shadow-strong: 0 20px 60px rgba(0, 0, 0, 0.15);
      
      /* Espaciado fluido */
      --space-xs: clamp(0.5rem, 2vw, 0.75rem);
      --space-sm: clamp(0.75rem, 3vw, 1rem);
      --space-md: clamp(1rem, 4vw, 1.5rem);
      --space-lg: clamp(1.5rem, 5vw, 2rem);
      --space-xl: clamp(2rem, 6vw, 3rem);
      --space-xxl: clamp(3rem, 8vw, 4rem);
      
      /* Radios modernos */
      --radius-sm: 8px;
      --radius-md: 16px;
      --radius-lg: 24px;
      --radius-xl: 32px;
    }

    * { 
      box-sizing: border-box; 
      margin: 0; 
      padding: 0; 
    }
    
    /* LOADER MODERNO */
    .fullscreen-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--rich-black) 0%, var(--dark-green) 50%, var(--rich-black) 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 1;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    
    .fullscreen-loader.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    .loader-content {
      text-align: center;
      position: relative;
    }
    
    .logo-loader {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-lg);
      animation: logoFloat 3s ease-in-out infinite;
      position: relative;
    }
    
    .logo-loader img {
      height: clamp(120px, 18vw, 200px);
      width: auto;
      filter: brightness(1.2) contrast(1.1) drop-shadow(0 4px 20px rgba(205, 184, 124, 0.3));
      object-fit: contain;
    }
    
    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    .loading-dots {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-top: var(--space-lg);
    }
    
    .loading-dot {
      width: 12px;
      height: 12px;
      background: var(--gold);
      border-radius: 50%;
      animation: dotBounce 1.5s ease-in-out infinite;
    }
    
    .loading-dot:nth-child(2) { animation-delay: 0.3s; }
    .loading-dot:nth-child(3) { animation-delay: 0.6s; }
    
    @keyframes dotBounce {
      0%, 100% { transform: translateY(0); opacity: 0.7; }
      50% { transform: translateY(-15px); opacity: 1; }
    }

    /* SISTEMA BASE */
    body { 
      font-family: 'Inter', sans-serif; 
      background: var(--rich-black);
      color: var(--cream); 
      line-height: 1.6; 
      overflow-x: hidden;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-align: center;
      padding-top: var(--space-xl);
    }

    /* MEJORAS PARA NAVEGACI√ìN SUAVE */
    html {
      scroll-padding-top: 120px;
    }

    /* HEADER FLOTANTE MODERNO CON AUTO-HIDE EN M√ìVIL */
    .header-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: var(--space-md);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateY(0);
    }
    
    .header-container.scrolled {
      padding: var(--space-sm) var(--space-md);
    }
    
    .header-container.scrolled .logo img {
      height: clamp(45px, 7vw, 70px);
    }

    /* HEADER OCULTO EN M√ìVIL AL HACER SCROLL DOWN */
    .header-container.hidden {
      transform: translateY(-100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* HEADER VISIBLE AL HACER SCROLL UP */
    .header-container.visible {
      transform: translateY(0);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    header {
      background: rgba(30, 33, 34, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(205, 184, 124, 0.1);
      border-radius: var(--radius-lg);
      padding: var(--space-md) var(--space-lg);
      box-shadow: var(--shadow-card);
      transition: all 0.3s ease;
      margin: 0 auto;
      max-width: 1400px;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-lg);
      text-align: center;
    }

    /* ESTRUCTURA M√ìVIL DE DOS L√çNEAS */
    .header-mobile-layout {
      display: none;
    }

    /* LAYOUT DESKTOP - UNA L√çNEA */
    .header-desktop-layout {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      gap: var(--space-lg);
    }

    /* PRIMERA L√çNEA DEL M√ìVIL */
    .header-top-line {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--space-sm);
      padding-bottom: var(--space-sm);
      border-bottom: 1px solid rgba(205, 184, 124, 0.1);
    }

    /* SEGUNDA L√çNEA DEL M√ìVIL */
    .header-nav-line {
      display: flex;
      justify-content: center;
    }
    
    .logo {
      display: flex;
      align-items: center;
      text-decoration: none;
      position: relative;
    }
    
    .logo img {
      height: clamp(50px, 8vw, 80px);
      width: auto;
      transition: all 0.3s ease;
      filter: brightness(1.1) contrast(1.1);
      object-fit: contain;
    }
    
    .logo:hover img {
      transform: scale(1.05);
      filter: brightness(1.2) contrast(1.2);
    }
    
    .nav-main { 
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-lg);
      flex-wrap: wrap;
    }
    
    .nav-main a { 
      color: var(--cream); 
      text-decoration: none; 
      font-weight: 500; 
      font-size: 0.9rem;
      position: relative;
      transition: all 0.3s ease;
      padding: var(--space-xs) var(--space-sm);
      border-radius: var(--radius-sm);
      text-align: center;
      white-space: nowrap;
    }
    
    .nav-main a:hover {
      color: var(--gold);
      background: rgba(205, 184, 124, 0.1);
    }

    .nav-rewards {
      position: relative;
      background: rgba(205, 184, 124, 0.1) !important;
      border: 1px solid rgba(205, 184, 124, 0.3);
      border-radius: var(--radius-sm);
    }

    .nav-rewards:hover {
      background: rgba(205, 184, 124, 0.2) !important;
      transform: translateY(-1px);
    }

    .rewards-badge {
      background: var(--gradient-gold);
      color: var(--rich-black);
      font-size: 0.7rem;
      padding: 2px 6px;
      border-radius: 10px;
      margin-left: 4px;
      font-weight: 700;
      animation: pointsPulse 3s ease-in-out infinite;
    }

    @keyframes pointsPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* GUEST BUTTONS - BOTONES HORIZONTALES */
    .guest-buttons {
      display: flex;
      gap: var(--space-xs);
      align-items: center;
      justify-content: flex-end;
      flex-wrap: nowrap;
    }

    .guest-buttons .btn {
      font-size: 0.75rem;
      padding: var(--space-xs) var(--space-sm);
      border-radius: var(--radius-sm);
      min-width: auto;
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* HERO SECTION */
    .hero-section {
      min-height: 100vh;
      background: 
        radial-gradient(ellipse at top, rgba(213, 120, 108, 0.1) 0%, transparent 50%),
        radial-gradient(ellipse at bottom, rgba(128, 175, 122, 0.1) 0%, transparent 50%),
        var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      text-align: center;
      width: 100%;
    }

    .hero-content {
      max-width: 900px;
      padding: var(--space-xl);
      position: relative;
      z-index: 2;
      text-align: center;
      margin: 0 auto;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
      background: rgba(205, 184, 124, 0.15);
      border: 1px solid rgba(205, 184, 124, 0.3);
      color: var(--gold);
      padding: var(--space-xs) var(--space-md);
      border-radius: var(--radius-lg);
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: var(--space-lg);
      animation: badgeFloat 4s ease-in-out infinite;
    }

    @keyframes badgeFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(3rem, 8vw, 5rem);
      font-weight: 900;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--space-lg);
      line-height: 1.1;
      letter-spacing: -0.02em;
    }

    .hero-subtitle {
      font-size: clamp(1rem, 3vw, 1.25rem);
      color: rgba(251, 244, 232, 0.8);
      margin-bottom: var(--space-xl);
      font-weight: 300;
      line-height: 1.6;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-cta {
      display: flex;
      gap: var(--space-lg);
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin-top: var(--space-xl);
    }

    /* BOTONES */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
      padding: var(--space-md) var(--space-xl);
      border-radius: var(--radius-lg);
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 0.9rem;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      letter-spacing: 0.3px;
    }

    .btn-primary {
      background: var(--gradient-accent);
      color: white;
      box-shadow: var(--shadow-card);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .btn-outline {
      background: transparent;
      color: var(--cream);
      border: 2px solid rgba(251, 244, 232, 0.3);
    }

    .btn-outline:hover {
      background: var(--cream);
      color: var(--rich-black);
      border-color: var(--cream);
    }

    /* SLIDER DE OFERTAS */
    .offers-section {
      margin: var(--space-xxl) 0;
      position: relative;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      /* SCROLL PADDING PARA MEJORAR NAVEGACI√ìN */
      scroll-margin-top: 120px;
    }

    .offers-container {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      position: relative;
    }

    .offers-slider {
      height: clamp(350px, 60vw, 600px);
      position: relative;
      overflow: hidden;
      border-radius: 0;
      background: linear-gradient(135deg, var(--dark-green) 0%, var(--rich-black) 100%);
      padding: var(--space-md);
    }
    
    .slider-wrapper { 
      display: flex; 
      transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1); 
      height: 100%;
      width: 100%;
      border-radius: var(--radius-md);
      overflow: hidden;
    }
    
    .slider-wrapper img { 
      flex: 0 0 100%; 
      width: 100%; 
      height: 100%;
      object-fit: contain; 
      filter: brightness(0.95);
      transition: all 0.3s ease;
      background: transparent;
    }
    
    .slider-wrapper:hover img {
      filter: brightness(1.05);
      transform: scale(1.01);
    }
    
    .slider-controls { 
      position: absolute; 
      top: 50%; 
      width: calc(100% - var(--space-xl)); 
      display: flex; 
      justify-content: space-between; 
      transform: translateY(-50%); 
      padding: 0 var(--space-lg); 
      opacity: 0; 
      transition: opacity 0.3s; 
      pointer-events: none;
      left: 50%;
      margin-left: calc(-50% + var(--space-md));
    }
    
    .offers-slider:hover .slider-controls { 
      opacity: 1; 
      pointer-events: auto;
    }
    
    .slider-controls button { 
      background: rgba(30, 33, 34, 0.9); 
      backdrop-filter: blur(10px);
      border: 1px solid rgba(205, 184, 124, 0.3);
      color: var(--gold); 
      font-size: 1.5rem; 
      padding: var(--space-md); 
      border-radius: 50%; 
      cursor: pointer; 
      transition: all 0.3s ease;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-card);
    }
    
    .slider-controls button:hover {
      background: rgba(205, 184, 124, 0.3);
      transform: scale(1.1);
      color: var(--cream);
    }
    
    .slider-dots { 
      position: absolute; 
      bottom: var(--space-xl); 
      width: 100%; 
      text-align: center; 
    }
    
    .slider-dots span { 
      display: inline-block; 
      width: 12px; 
      height: 12px; 
      margin: 0 6px; 
      background: rgba(251, 244, 232, 0.4); 
      border-radius: 50%; 
      cursor: pointer; 
      transition: all 0.3s ease;
    }
    
    .slider-dots span:hover {
      background: rgba(251, 244, 232, 0.7);
      transform: scale(1.2);
    }
    
    .slider-dots span.active { 
      background: var(--gold); 
      transform: scale(1.3);
    }

    /* SECCIONES */
    .section {
      width: 100%;
      padding: var(--space-xxl) 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      /* SCROLL PADDING PARA MEJORAR NAVEGACI√ìN */
      scroll-margin-top: 120px;
    }

    .section-inner {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 var(--space-lg);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .section-header {
      text-align: center;
      margin-bottom: var(--space-xxl);
      width: 100%;
      max-width: 800px;
      /* PADDING ADICIONAL PARA MOSTRAR BIEN EL T√çTULO */
      padding-top: var(--space-xl);
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--space-md);
      line-height: 1.2;
    }

    .section-subtitle {
      font-size: clamp(1rem, 3vw, 1.125rem);
      color: rgba(251, 244, 232, 0.7);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .grid {
      display: grid;
      gap: var(--space-xl);
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      justify-content: center;
      justify-items: center;
      align-items: start;
    }

    .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .grid-3 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .grid-4 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }

    .card {
      background: rgba(30, 33, 34, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(205, 184, 124, 0.15);
      border-radius: var(--radius-lg);
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      box-shadow: var(--shadow-card);
      text-align: center;
      width: 100%;
      max-width: 350px;
      margin: 0 auto;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-hover);
      border-color: rgba(205, 184, 124, 0.3);
    }

    .card-clickable {
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .card-clickable::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(205, 184, 124, 0.1) 50%, 
        transparent 100%);
      transition: left 0.6s ease;
      z-index: 1;
    }

    .card-clickable:hover::before {
      left: 100%;
    }

    .card-clickable:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: var(--gold);
      box-shadow: 0 12px 50px rgba(205, 184, 124, 0.2);
    }

    .card-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .card:hover .card-image {
      transform: scale(1.05);
    }

    .card-content {
      padding: var(--space-lg);
      text-align: center;
      position: relative;
      z-index: 2;
    }

    .card-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--cream);
      margin-bottom: var(--space-sm);
      line-height: 1.2;
    }

    .card-description {
      color: rgba(251, 244, 232, 0.7);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: var(--space-lg);
    }

    .card-price {
      font-size: 1.25rem;
      font-weight: 700;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--space-md);
    }

    .auth-section {
      background: 
        radial-gradient(circle at 30% 70%, rgba(213, 120, 108, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, var(--rich-black) 0%, var(--dark-green) 100%);
      width: 100%;
      padding: var(--space-xxl) 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      /* SCROLL PADDING PARA MEJORAR NAVEGACI√ìN */
      scroll-margin-top: 120px;
    }

    .auth-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-xl);
      width: 100%;
      max-width: 1000px;
      margin: var(--space-xxl) auto 0;
      justify-content: center;
      justify-items: center;
      padding: 0 var(--space-lg);
    }

    .auth-card {
      background: rgba(30, 33, 34, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(205, 184, 124, 0.2);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      text-align: center;
      width: 100%;
      max-width: 400px;
    }

    .auth-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.1) 50%, 
        transparent 100%);
      transition: left 0.6s ease;
    }

    .auth-card:hover::before {
      left: 100%;
    }

    .auth-card:hover {
      transform: translateY(-4px);
      border-color: rgba(205, 184, 124, 0.4);
      box-shadow: var(--shadow-hover);
    }

    .auth-card-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: var(--space-md);
      position: relative;
      z-index: 2;
    }

    .auth-icon {
      font-size: 2.5rem;
      flex-shrink: 0;
    }

    .auth-text h3 {
      font-weight: 700;
      font-size: 1.125rem;
      color: var(--cream);
      margin-bottom: 4px;
    }

    .auth-text p {
      font-size: 0.875rem;
      color: rgba(251, 244, 232, 0.7);
    }

    .auth-benefits {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--space-xl);
      flex-wrap: wrap;
      margin: var(--space-xl) 0;
      width: 100%;
      max-width: 800px;
    }

    .benefit-item {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
      font-size: 0.9rem;
      color: rgba(251, 244, 232, 0.8);
    }

    .testimonial-card {
      background: rgba(30, 33, 34, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(205, 184, 124, 0.2);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      transition: all 0.3s ease;
      position: relative;
      text-align: center;
      width: 100%;
      max-width: 350px;
      margin: 0 auto;
    }

    .testimonial-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
      border-color: rgba(205, 184, 124, 0.4);
    }

    .testimonial-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-md);
      margin-bottom: var(--space-md);
    }

    .testimonial-avatar {
      width: 48px;
      height: 48px;
      background: var(--gradient-gold);
      color: var(--rich-black);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.125rem;
    }

    .testimonial-info h4 {
      font-weight: 600;
      color: var(--cream);
      font-size: 1rem;
    }

    .testimonial-date {
      font-size: 0.75rem;
      color: rgba(251, 244, 232, 0.5);
    }

    .stars {
      color: var(--gold);
      font-size: 1rem;
      margin-top: var(--space-xs);
    }

    .testimonial-text {
      color: rgba(251, 244, 232, 0.8);
      line-height: 1.6;
      font-style: italic;
    }

    .whatsapp-float {
      position: fixed;
      bottom: var(--space-xl);
      left: var(--space-xl);
      background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
      color: white;
      border-radius: var(--radius-lg);
      padding: var(--space-md) var(--space-lg);
      box-shadow: var(--shadow-strong);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 999;
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-weight: 600;
      min-width: 200px;
      animation: pulse 3s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    .whatsapp-float:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 40px rgba(37, 211, 102, 0.4);
    }

    footer {
      background: var(--rich-black);
      border-top: 1px solid rgba(205, 184, 124, 0.1);
      padding: var(--space-xxl) var(--space-lg);
      text-align: center;
      color: rgba(251, 244, 232, 0.7);
      width: 100%;
    }

    .notification-container {
      position: fixed;
      top: 120px;
      right: 20px;
      z-index: 15000;
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
      max-width: 420px;
      pointer-events: none;
    }

    .notification {
      background: rgba(30, 33, 34, 0.95);
      backdrop-filter: blur(20px);
      border-radius: var(--radius-md);
      padding: var(--space-lg) var(--space-xl);
      box-shadow: var(--shadow-strong);
      border: 1px solid rgba(205, 184, 124, 0.2);
      position: relative;
      overflow: hidden;
      pointer-events: auto;
      transform: translateX(100%);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      color: var(--cream);
      min-width: 350px;
    }

    .notification.show {
      transform: translateX(0);
      opacity: 1;
    }

    .notification::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      border-radius: 2px 0 0 2px;
    }

    .notification.success::before { background: var(--sage); }
    .notification.error::before { background: #dc3545; }
    .notification.warning::before { background: #ffc107; }
    .notification.info::before { background: #17a2b8; }
    .notification.fratelli::before { background: var(--gradient-accent); }

    .notification-header {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      margin-bottom: var(--space-sm);
    }

    .notification-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: bold;
      flex-shrink: 0;
      background: rgba(205, 184, 124, 0.2);
      color: var(--gold);
    }

    .notification-title {
      font-family: 'Playfair Display', serif;
      font-size: 1rem;
      font-weight: 700;
      color: var(--cream);
      margin: 0;
      line-height: 1.2;
    }

    .notification-message {
      color: rgba(251, 244, 232, 0.9);
      font-size: 0.875rem;
      line-height: 1.5;
      margin: 0;
      white-space: pre-line;
    }

    .notification-close {
      position: absolute;
      top: 12px;
      right: 15px;
      background: none;
      border: none;
      color: rgba(251, 244, 232, 0.6);
      font-size: 18px;
      cursor: pointer;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .notification-close:hover {
      background: rgba(220, 53, 69, 0.2);
      color: #dc3545;
    }

    .confirmation-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(30, 33, 34, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 20000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      padding: var(--space-lg);
    }

    .confirmation-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .confirmation-content {
      background: var(--rich-black);
      border: 1px solid rgba(205, 184, 124, 0.3);
      border-radius: var(--radius-lg);
      padding: var(--space-xxl);
      max-width: 450px;
      width: 100%;
      text-align: center;
      box-shadow: var(--shadow-strong);
      transform: scale(0.8);
      transition: transform 0.3s ease;
      color: var(--cream);
    }

    .confirmation-modal.show .confirmation-content {
      transform: scale(1);
    }

    .confirmation-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--gradient-gold);
      color: var(--rich-black);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin: 0 auto var(--space-lg);
      animation: pulseIcon 2s ease-in-out infinite;
      font-weight: bold;
    }

    @keyframes pulseIcon {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .confirmation-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--cream);
      margin-bottom: var(--space-md);
      font-weight: 700;
    }

    .confirmation-message {
      color: rgba(251, 244, 232, 0.8);
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: var(--space-xl);
      white-space: pre-line;
    }

    .auth-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(30, 33, 34, 0.8);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: var(--space-lg);
    }

    .auth-popup-content {
      background: var(--rich-black);
      border: 1px solid rgba(205, 184, 124, 0.3);
      border-radius: var(--radius-lg);
      width: 100%;
      max-width: 450px;
      overflow: hidden;
      box-shadow: var(--shadow-strong);
    }

    .auth-popup-header {
      background: var(--gradient-primary);
      color: var(--cream);
      padding: var(--space-xl);
      text-align: center;
      position: relative;
    }

    .auth-popup-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0;
    }

    .auth-popup-close {
      position: absolute;
      right: var(--space-md);
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--cream);
      font-size: 1.5rem;
      cursor: pointer;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s ease;
    }

    .auth-popup-close:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .auth-popup-body {
      padding: var(--space-xxl);
    }

    .form-group {
      margin-bottom: var(--space-lg);
    }

    .form-input {
      width: 100%;
      padding: var(--space-md);
      border: 1px solid rgba(205, 184, 124, 0.3);
      border-radius: var(--radius-sm);
      background: rgba(30, 33, 34, 0.6);
      color: var(--cream);
      font-size: 1rem;
      outline: none;
      transition: border-color 0.3s ease;
    }

    .form-input:focus {
      border-color: var(--gold);
    }

    .form-input::placeholder {
      color: rgba(251, 244, 232, 0.5);
    }

    .checkbox-group {
      margin: var(--space-lg) 0;
    }

    .checkbox-item {
      display: flex;
      align-items: flex-start;
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
      font-size: 0.875rem;
      line-height: 1.4;
      cursor: pointer;
    }

    .checkbox-item input[type="checkbox"] {
      display: none;
    }

    .checkbox-visual {
      width: 20px;
      height: 20px;
      border: 2px solid var(--gold);
      border-radius: var(--radius-sm);
      position: relative;
      transition: all 0.3s ease;
      flex-shrink: 0;
      margin-top: 2px;
      background: rgba(30, 33, 34, 0.6);
    }

    .checkbox-item input[type="checkbox"]:checked + .checkbox-visual {
      background: var(--gold);
    }

    .checkbox-item input[type="checkbox"]:checked + .checkbox-visual::after {
      content: '‚úì';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--rich-black);
      font-size: 14px;
      font-weight: bold;
    }

    .auth-error {
      display: none;
      background: rgba(220, 53, 69, 0.1);
      border: 1px solid rgba(220, 53, 69, 0.3);
      color: #dc3545;
      padding: var(--space-sm);
      border-radius: var(--radius-sm);
      margin-bottom: var(--space-md);
      text-align: center;
    }

    .auth-link {
      color: var(--gold);
      text-decoration: none;
      font-weight: 600;
    }

    .auth-link:hover {
      text-decoration: underline;
    }

    .user-menu {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-md);
      position: relative;
    }

    .user-welcome {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-sm);
      cursor: pointer;
      padding: var(--space-sm) var(--space-md);
      border-radius: var(--radius-lg);
      background: rgba(205, 184, 124, 0.1);
      border: 1px solid rgba(205, 184, 124, 0.2);
      transition: all 0.3s ease;
    }

    .user-welcome:hover {
      background: rgba(205, 184, 124, 0.2);
      border-color: rgba(205, 184, 124, 0.4);
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      background: var(--gradient-gold);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--rich-black);
      font-weight: 700;
      font-size: 0.875rem;
    }

    .user-dropdown {
      position: absolute;
      right: 0;
      top: 100%;
      background: var(--rich-black);
      min-width: 200px;
      box-shadow: var(--shadow-strong);
      border-radius: var(--radius-md);
      z-index: 1000;
      border: 1px solid rgba(205, 184, 124, 0.2);
      margin-top: 8px;
      overflow: hidden;
      display: none;
    }

    .user-dropdown a {
      color: var(--cream);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      transition: background 0.2s ease;
      border-bottom: 1px solid rgba(205, 184, 124, 0.1);
    }

    .user-dropdown a:hover {
      background: rgba(205, 184, 124, 0.1);
    }

    .user-dropdown a:last-child {
      border-bottom: none;
    }

    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      html {
        scroll-padding-top: 140px;
      }

      .section {
        scroll-margin-top: 140px;
      }

      .auth-section {
        scroll-margin-top: 140px;
      }

      .offers-section {
        scroll-margin-top: 140px;
      }

      .section-header {
        padding-top: var(--space-lg);
      }

      /* HEADER M√ìVIL - DOS L√çNEAS BIEN ESTRUCTURADAS */
      .header-content {
        display: block;
        padding: 0;
      }

      /* LAYOUT DESKTOP OCULTO EN M√ìVIL */
      .header-desktop-layout {
        display: none;
      }

      /* LAYOUT M√ìVIL DE DOS L√çNEAS */
      .header-mobile-layout {
        display: block;
      }

      /* PRIMERA L√çNEA: Logo + User Menu/Guest Buttons */
      .header-top-line {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--space-sm);
        padding-bottom: var(--space-sm);
        border-bottom: 1px solid rgba(205, 184, 124, 0.1);
      }

      /* SEGUNDA L√çNEA: Navegaci√≥n */
      .header-nav-line {
        display: flex;
        justify-content: center;
      }

      .nav-main {
        gap: var(--space-sm);
        justify-content: center;
        width: 100%;
        flex-wrap: wrap;
      }

      .nav-main a {
        padding: var(--space-xs) var(--space-sm);
        font-size: 0.85rem;
        min-width: auto;
        text-align: center;
      }

      /* GUEST BUTTONS OPTIMIZADOS PARA M√ìVIL */
      .guest-buttons {
        gap: var(--space-xs);
        flex-wrap: nowrap;
        justify-content: flex-end;
      }

      .guest-buttons .btn {
        font-size: 0.7rem;
        padding: 6px 10px;
        border-radius: 6px;
        min-width: 55px;
        height: 32px;
      }

      /* OPTIMIZACI√ìN HEADER M√ìVIL */
      .header-container {
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                    padding 0.3s ease;
        will-change: transform;
      }

      .header-container.hidden {
        transform: translateY(-100%);
      }

      .header-container.visible {
        transform: translateY(0);
      }

      .logo img {
        height: clamp(50px, 10vw, 65px);
      }
      
      .header-container.scrolled .logo img {
        height: clamp(45px, 8vw, 60px);
      }
      
      .logo-loader img {
        height: clamp(100px, 20vw, 160px);
      }

      header {
        padding: var(--space-md) var(--space-lg);
      }

      .header-container.scrolled header {
        padding: var(--space-sm) var(--space-md);
      }

      .hero-content {
        padding: var(--space-lg) var(--space-md);
      }

      .hero-cta {
        flex-direction: column;
        align-items: center;
        gap: var(--space-md);
        width: 100%;
      }

      .btn {
        width: 100%;
        max-width: 280px;
        justify-content: center;
      }

      .grid-2,
      .grid-3,
      .grid-4 {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
        justify-items: center;
        width: 100%;
      }

      .card {
        max-width: 100%;
        width: 100%;
        margin: 0;
      }

      .card-content {
        padding: var(--space-md);
      }

      /* ARREGLO ESPEC√çFICO PARA CONTACTO EN M√ìVIL */
      #contacto .section-inner {
        padding: 0 var(--space-sm) !important;
      }

      #contacto .card {
        margin: 0 auto;
        padding: 0;
        max-width: 100%;
        width: calc(100vw - var(--space-lg));
      }

      #contacto .card-content {
        padding: var(--space-lg) var(--space-sm);
        font-size: 0.85rem;
        line-height: 1.4;
      }

      #contacto .card-content > div {
        gap: var(--space-md) !important;
        font-size: 0.9rem !important;
        align-items: center !important;
      }

      #contacto .card-content > div > div {
        display: flex !important;
        align-items: flex-start !important;
        justify-content: center !important;
        gap: var(--space-sm) !important;
        text-align: left !important;
        margin-bottom: 0 !important;
        width: 100%;
        flex-wrap: nowrap !important;
      }

      #contacto .card-content > div > div span:first-child {
        font-size: 1.2rem !important;
        flex-shrink: 0;
        margin-top: 2px;
      }

      #contacto .card-content > div > div span:not(:first-child),
      #contacto .card-content > div > div a {
        font-size: 0.8rem !important;
        line-height: 1.3;
        word-break: break-word;
        text-align: left !important;
        flex: 0 1 auto;
        max-width: calc(100% - 2rem);
      }

      .card-title {
        font-size: 1.125rem;
        margin-bottom: var(--space-sm);
      }

      .card-description {
        font-size: 0.875rem;
        line-height: 1.4;
        margin-bottom: var(--space-md);
      }

      .card-image {
        height: 200px;
        width: 100%;
        object-fit: cover;
      }

      .section {
        padding: var(--space-xl) 0;
      }

      .section-inner {
        padding: 0 var(--space-md);
        width: 100%;
      }

      .section-header {
        margin-bottom: var(--space-xl);
      }

      .section-title {
        font-size: clamp(1.75rem, 7vw, 2.25rem);
        margin-bottom: var(--space-md);
        line-height: 1.2;
      }

      .section-subtitle {
        font-size: clamp(0.9rem, 4vw, 1rem);
        line-height: 1.5;
        margin-bottom: var(--space-lg);
      }

      .auth-grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
        justify-items: center;
        padding: 0 var(--space-md);
      }

      .auth-card {
        width: 100%;
        max-width: 320px;
        padding: var(--space-lg);
      }

      .auth-benefits {
        flex-direction: column;
        gap: var(--space-md);
        align-items: center;
        width: 100%;
      }

      .benefit-item {
        font-size: 0.875rem;
      }

      .testimonial-header {
        flex-direction: column;
        gap: var(--space-sm);
      }

      .testimonial-card {
        width: 100%;
        max-width: 100%;
        padding: var(--space-lg);
      }

      .whatsapp-float {
        bottom: var(--space-lg);
        left: var(--space-md);
        right: var(--space-md);
        min-width: 160px;
        padding: var(--space-sm) var(--space-md);
        font-size: 0.875rem;
      }

      .notification-container {
        top: 100px;
        right: var(--space-sm);
        left: var(--space-sm);
        max-width: none;
      }

      .notification {
        min-width: auto;
        width: 100%;
        padding: var(--space-md) var(--space-lg);
        font-size: 0.875rem;
      }

      .auth-section {
        padding: var(--space-xl) 0;
      }

      .form-input {
        font-size: 16px;
        padding: var(--space-md);
      }

      .user-welcome {
        padding: var(--space-xs) var(--space-sm);
        font-size: 0.875rem;
      }

      .user-avatar {
        width: 28px;
        height: 28px;
        font-size: 0.75rem;
      }

      /* DROPDOWN ESPEC√çFICO PARA M√ìVIL */
      .user-dropdown {
        min-width: 180px;
        right: 0;
        left: auto;
        margin-top: 4px;
        box-shadow: var(--shadow-strong);
      }

      .user-dropdown a {
        padding: 10px 12px;
        font-size: 0.85rem;
        gap: 6px;
      }

      .user-dropdown a:hover {
        background: rgba(205, 184, 124, 0.15);
      }

      #nuestras-pizzas {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
      }

      #nuestras-pizzas .section-inner {
        display: flex !important;
        flex-direction: column !important;
      }

      #nuestras-pizzas .grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: var(--space-lg) !important;
      }

      #nuestras-pizzas .card {
        display: block !important;
        width: 100% !important;
        max-width: 100% !important;
      }

      #nuestras-pizzas .card-image {
        display: block !important;
        width: 100% !important;
        height: 200px !important;
      }
    }

    @media (max-width: 480px) {
      html {
        scroll-padding-top: 160px;
      }

      .section {
        scroll-margin-top: 160px;
      }

      .auth-section {
        scroll-margin-top: 160px;
      }

      .offers-section {
        scroll-margin-top: 160px;
      }

      /* EXTRA COMPACTO PARA PANTALLAS MUY PEQUE√ëAS */
      .header-container {
        padding: 4px var(--space-xs);
      }

      .header-container.scrolled {
        padding: 2px var(--space-xs);
      }

      header {
        padding: var(--space-xs) var(--space-sm);
      }

      /* LOGO AJUSTADO PARA PANTALLAS PEQUE√ëAS */
      .logo img {
        height: clamp(45px, 12vw, 55px);
      }
      
      .header-container.scrolled .logo img {
        height: clamp(40px, 10vw, 50px);
      }
      
      .logo-loader img {
        height: clamp(120px, 30vw, 180px);
      }

      .nav-main a {
        padding: 4px 8px;
        font-size: 0.8rem;
      }

      /* GUEST BUTTONS ULTRA COMPACTOS */
      .guest-buttons .btn {
        font-size: 0.65rem;
        padding: 4px 8px;
        min-width: 45px;
        height: 28px;
      }

      /* USER MENU ULTRA COMPACTO */
      .user-welcome {
        padding: 4px 8px;
        font-size: 0.75rem;
      }

      .user-avatar {
        width: 24px;
        height: 24px;
        font-size: 0.65rem;
      }

      /* DROPDOWN EXTRA COMPACTO PARA PANTALLAS MUY PEQUE√ëAS */
      .user-dropdown {
        min-width: 160px;
        right: 0;
        left: auto;
        margin-top: 2px;
        max-width: calc(100vw - 20px);
      }

      .user-dropdown a {
        padding: 8px 10px;
        font-size: 0.8rem;
        gap: 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* OTRAS OPTIMIZACIONES */
      .offers-slider {
        height: clamp(280px, 70vw, 400px);
        padding: var(--space-sm);
      }

      .slider-controls {
        width: calc(100% - var(--space-md));
        padding: 0 var(--space-sm);
        margin-left: calc(-50% + var(--space-sm));
      }

      .slider-dots {
        bottom: var(--space-lg);
      }

      .hero-title {
        font-size: clamp(2rem, 10vw, 3rem);
      }

      .section-title {
        font-size: clamp(1.5rem, 8vw, 2rem);
      }

      .card {
        max-width: 280px;
      }

      .rewards-badge {
        font-size: 0.55rem;
        padding: 1px 3px;
      }

      /* CONTACTO EXTRA COMPACTO PARA PANTALLAS MUY PEQUE√ëAS */
      #contacto .section-inner {
        padding: 0 var(--space-xs) !important;
      }

      #contacto .card {
        margin: 0 !important;
        max-width: 100% !important;
        width: calc(100vw - var(--space-md)) !important;
      }

      #contacto .card-content {
        padding: var(--space-md) var(--space-xs) !important;
        font-size: 0.75rem !important;
      }

      #contacto .card-content > div {
        gap: var(--space-sm) !important;
        font-size: 0.8rem !important;
      }

      #contacto .card-content > div > div {
        margin-bottom: 0 !important;
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
        gap: var(--space-xs) !important;
        flex-wrap: nowrap !important;
        justify-content: center !important;
        text-align: left !important;
      }

      #contacto .card-content > div > div span:first-child {
        font-size: 1rem !important;
        margin-top: 1px !important;
      }

      #contacto .card-content > div > div span:not(:first-child),
      #contacto .card-content > div > div a {
        font-size: 0.7rem !important;
        line-height: 1.2 !important;
        word-break: break-all !important;
        text-align: left !important;
        flex: 0 1 auto;
        max-width: calc(100% - 1.5rem);
      }
    }
  </style>
</head>
<body>
  <!-- FULLSCREEN LOADER -->
  <div class="fullscreen-loader" id="pageLoader">
    <div class="loader-content">
      <div class="logo-loader">
        <img src="images/logo-fratelli-pazzi.png" alt="Fratelli Pazzi" loading="eager">
      </div>
      <div class="loading-dots">
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
      </div>
    </div>
  </div>

  <!-- NOTIFICACIONES -->
  <div class="notification-container" id="notificationContainer"></div>

  <!-- MODAL DE CONFIRMACI√ìN -->
  <div class="confirmation-modal" id="confirmationModal">
    <div class="confirmation-content">
      <div class="confirmation-icon" id="confirmationIcon">üçï</div>
      <h3 class="confirmation-title" id="confirmationTitle">¬øEst√°s seguro?</h3>
      <p class="confirmation-message" id="confirmationMessage">Esta acci√≥n no se puede deshacer.</p>
      <div style="display: flex; gap: var(--space-md); justify-content: center; margin-top: var(--space-xl);">
        <button class="btn btn-outline" id="confirmationCancel">Cancelar</button>
        <button class="btn btn-primary" id="confirmationConfirm">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- HEADER FLOTANTE -->
  <div class="header-container" id="headerContainer">
    <header>
      <!-- LAYOUT DESKTOP - UNA L√çNEA -->
      <div class="header-desktop-layout">
        <a href="#" class="logo">
          <img src="images/logo-fratelli-pazzi.png" alt="Fratelli Pazzi - Aut√©ntica Pizzer√≠a Napolitana" loading="eager">
        </a>
        
        <nav class="nav-main" id="mainNavigation">
          <a href="#ofertas">Ofertas</a>
          <a href="#nuestras-pizzas">Pizzas</a>
          <a href="#calzones">Calzones</a>
          <a href="pedido.html">Pedido</a>
          <a href="#contacto">Contacto</a>
        </nav>
        
        <div class="user-menu" id="userMenu">
          <!-- Se llenar√° din√°micamente -->
        </div>
      </div>

      <!-- LAYOUT M√ìVIL - DOS L√çNEAS -->
      <div class="header-mobile-layout">
        <!-- Primera l√≠nea: Logo + User Menu -->
        <div class="header-top-line">
          <a href="#" class="logo">
            <img src="images/logo-fratelli-pazzi.png" alt="Fratelli Pazzi - Aut√©ntica Pizzer√≠a Napolitana" loading="eager">
          </a>
          <div class="user-menu" id="userMenuMobile">
            <!-- Se llenar√° din√°micamente -->
          </div>
        </div>
        
        <!-- Segunda l√≠nea: Navegaci√≥n -->
        <div class="header-nav-line">
          <nav class="nav-main" id="mainNavigationMobile">
            <a href="#ofertas">Ofertas</a>
            <a href="#nuestras-pizzas">Pizzas</a>
            <a href="#calzones">Calzones</a>
            <a href="pedido.html">Pedido</a>
            <a href="#contacto">Contacto</a>
          </nav>
        </div>
      </div>
    </header>
  </div>

  <!-- HERO SECTION -->
  <section class="hero-section">
    <div class="hero-content fade-in">
      <div class="hero-badge">
        <span>üèÜ</span>
        <span>Aut√©ntica receta napolitana</span>
      </div>
      <h1 class="hero-title">Pizza Italiana<br>Como en N√°poles</h1>
      <p class="hero-subtitle">
        Ingredientes premium importados de Italia, masa fermentada 48 horas y horno de piedra a 450¬∞C. 
        La experiencia napolitana m√°s aut√©ntica en Madrid.
      </p>
      <div class="hero-cta">
        <a href="pedido.html" class="btn btn-primary">
          Hacer Pedido
        </a>
        <a href="#nuestras-pizzas" class="btn btn-outline">
          Ver Men√∫
        </a>
      </div>
    </div>
  </section>

  <!-- SLIDER DE OFERTAS -->
  <section class="offers-section" id="ofertas">
    <div class="section-header">
      <h2 class="section-title">üî• Ofertas Especiales</h2>
      <p class="section-subtitle">
        Descubre nuestras promociones exclusivas y ahorra en tus pizzas favoritas
      </p>
    </div>
    <div class="offers-container">
      <div class="offers-slider">
        <div class="slider-wrapper">
          <img src="images/oferta1.png" alt="Oferta especial 1 - Fratelli Pazzi" loading="lazy">
          <img src="images/oferta2.png" alt="Oferta especial 2 - Fratelli Pazzi" loading="lazy">
          <img src="images/oferta3.png" alt="Oferta especial 3 - Fratelli Pazzi" loading="lazy">
          <img src="images/oferta4.png" alt="Oferta especial 4 - Fratelli Pazzi" loading="lazy">
        </div>
        <div class="slider-controls">
          <button onclick="moveSlider(-1)" aria-label="Oferta anterior">‚Äπ</button>
          <button onclick="moveSlider(1)" aria-label="Siguiente oferta">‚Ä∫</button>
        </div>
        <div class="slider-dots">
          <span onclick="moveSliderTo(0)" class="active" aria-label="Ir a oferta 1"></span>
          <span onclick="moveSliderTo(1)" aria-label="Ir a oferta 2"></span>
          <span onclick="moveSliderTo(2)" aria-label="Ir a oferta 3"></span>
          <span onclick="moveSliderTo(3)" aria-label="Ir a oferta 4"></span>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN DE AUTENTICACI√ìN -->
  <section class="auth-section fade-in" id="authSection" style="display: none;">
    <div class="section-inner">
      <div class="section-header">
        <div style="font-size: 3rem; margin-bottom: var(--space-lg);">üçï</div>
        <h2 class="section-title">¬°√önete a la Famiglia!</h2>
        <p class="section-subtitle">
          Crea tu cuenta para acumular puntos, conseguir pizzas gratis y disfrutar de ofertas exclusivas
        </p>
      </div>
      
      <div class="auth-grid">
        <div class="auth-card" onclick="FratelliPazzi.showRegisterForm()">
          <div class="auth-card-content">
            <span class="auth-icon">‚ú®</span>
            <div class="auth-text">
              <h3>Crear Cuenta Gratis</h3>
              <p>¬°Empieza a acumular puntos!</p>
            </div>
          </div>
        </div>
        
        <div class="auth-card" onclick="FratelliPazzi.showLoginForm()">
          <div class="auth-card-content">
            <span class="auth-icon">üîê</span>
            <div class="auth-text">
              <h3>Ya tengo cuenta</h3>
              <p>Iniciar sesi√≥n</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="auth-benefits">
        <div class="benefit-item">
          <span style="color: var(--gold);">üéÅ</span>
          <span>Pizza gratis cada 100 puntos</span>
        </div>
        <div class="benefit-item">
          <span style="color: var(--gold);">‚ö°</span>
          <span>Checkout r√°pido</span>
        </div>
        <div class="benefit-item">
          <span style="color: var(--gold);">üîî</span>
          <span>Ofertas exclusivas</span>
        </div>
      </div>
      
      <div style="font-size: 0.85rem; color: rgba(251, 244, 232, 0.5); font-style: italic; margin-top: var(--space-lg);">
        +300 clientes ya disfrutan de nuestros beneficios
      </div>
    </div>
  </section>

  <!-- PERFIL DE USUARIO -->
  <section class="auth-section fade-in" id="profileSection" style="display: none;">
    <div class="section-inner">
      <div style="display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-xxl); flex-wrap: wrap; gap: var(--space-lg); text-align: center;">
        <div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-lg);">
          <div style="width: 80px; height: 80px; background: var(--gradient-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 700; color: var(--rich-black);" id="profileAvatar">
            <!-- Se llenar√° din√°micamente -->
          </div>
          <div style="text-align: center;">
            <h2 style="font-family: 'Playfair Display', serif; font-size: 1.75rem; color: var(--cream); margin-bottom: 4px;" id="profileGreeting">¬°Hola Usuario!</h2>
            <p style="color: rgba(251, 244, 232, 0.7);" id="profileStatus">Miembro de la Famiglia Fratelli</p>
          </div>
          <button class="btn btn-outline" onclick="FratelliPazzi.logout()">
            üëã Cerrar Sesi√≥n
          </button>
        </div>
      </div>
      
      <div class="grid grid-3" style="margin-bottom: var(--space-xxl);">
        <div class="card card-clickable" onclick="FratelliPazzi.navigateToPoints()">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 2rem; margin-bottom: var(--space-md);">‚≠ê</div>
            <div style="font-size: 2rem; font-weight: 700; color: var(--gold); margin-bottom: var(--space-xs);" id="userPoints">0</div>
            <div style="color: rgba(251, 244, 232, 0.7);">Puntos</div>
            <div style="font-size: 0.75rem; color: var(--gold); margin-top: var(--space-xs); opacity: 0.8;">
              ¬°Haz clic para ver m√°s!
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 2rem; margin-bottom: var(--space-md);">üçï</div>
            <div style="font-size: 2rem; font-weight: 700; color: var(--gold); margin-bottom: var(--space-xs);" id="userOrders">0</div>
            <div style="color: rgba(251, 244, 232, 0.7);">Pedidos</div>
          </div>
        </div>
        
        <div class="card card-clickable" onclick="FratelliPazzi.navigateToPoints()">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 2rem; margin-bottom: var(--space-md);">üéÅ</div>
            <div style="font-size: 2rem; font-weight: 700; color: var(--gold); margin-bottom: var(--space-xs);" id="freeRewards">0</div>
            <div style="color: rgba(251, 244, 232, 0.7);">Pizzas Gratis</div>
            <div style="font-size: 0.75rem; color: var(--gold); margin-top: var(--space-xs); opacity: 0.8;">
              ¬°Haz clic para canjear!
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ¬øPOR QU√â FRATELLI PAZZI? -->
  <section class="section fade-in">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">¬øPor qu√© elegir Fratelli Pazzi?</h2>
        <p class="section-subtitle">La experiencia italiana m√°s aut√©ntica en Madrid</p>
      </div>
      <div class="grid grid-4">
        <div class="card">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: var(--space-lg);">üë®‚Äçüç≥</div>
            <h3 class="card-title">Maestros Pizzaiolos</h3>
            <p class="card-description">
              Hechas aqu√≠, para ti<br>
              <span style="color: var(--gold); font-weight: 600;">T√©cnica tradicional</span>
            </p>
          </div>
        </div>
        
        <div class="card">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: var(--space-lg);">‚≠ê</div>
            <h3 class="card-title">+300 Clientes</h3>
            <p class="card-description">
              Satisfechos en Las Rozas<br>
              <span style="color: var(--gold); font-weight: 600;">4.8/5 estrellas en Google</span>
            </p>
          </div>
        </div>
        
        <div class="card">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: var(--space-lg);">üõ°Ô∏è</div>
            <h3 class="card-title">Garant√≠a Total</h3>
            <p class="card-description">
              Frescura y calidad garantizada<br>
              <span style="color: var(--gold); font-weight: 600;">100% satisfacci√≥n</span>
            </p>
          </div>
        </div>
        
        <div class="card">
          <div class="card-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: var(--space-lg);">üî•</div>
            <h3 class="card-title">Horno de Piedra</h3>
            <p class="card-description">
              Cocci√≥n a 450¬∞C tradicional<br>
              <span style="color: var(--gold); font-weight: 600;">Sabor aut√©ntico napolitano</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PIZZAS M√ÅS PEDIDAS -->
  <section class="auth-section fade-in">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">Las Favoritas de Nuestros Clientes</h2>
        <p class="section-subtitle">Las pizzas m√°s pedidas en Las Rozas. ¬°Descubre por qu√© son las preferidas!</p>
      </div>
      <div class="grid grid-3">
        <div class="card" style="position: relative;">
          <div style="position: absolute; top: var(--space-md); right: var(--space-md); background: linear-gradient(135deg, #d62828 0%, #f72c2c 100%); color: white; padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 700; z-index: 3;">
            üî• M√ÅS VENDIDA
          </div>
          <img src="images/Margarita.png" alt="Pizza Margarita" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Margarita Cl√°sica</h3>
            <p class="card-description">Tomate San Marzano, fior di latte y albahaca fresca. La pizza m√°s cl√°sica y aut√©ntica.</p>
            <div class="card-price">10‚Ç¨</div>
            <button class="btn btn-primary" onclick="window.location.href='pedido.html'" style="width: 100%;">
              PEDIR AHORA
            </button>
          </div>
        </div>
        
        <div class="card" style="position: relative;">
         <div style="position: absolute; top: var(--space-md); right: var(--space-md); background: var(--gradient-sage); color: white; padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 700; z-index: 3;">
            üëë PREMIUM
          </div>
          <img src="images/LeonardoDaVinci.png" alt="Pizza Leonardo Da Vinci" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Leonardo Da Vinci</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, salm√≥n ahumado, queso philadelphia y r√∫cula fresca.</p>
            <div class="card-price">14‚Ç¨</div>
            <button class="btn btn-primary" onclick="window.location.href='pedido.html'" style="width: 100%;">
              PEDIR AHORA
            </button>
          </div>
        </div>
        
        <div class="card" style="position: relative;">
          <div style="position: absolute; top: var(--space-md); right: var(--space-md); background: var(--gradient-gold); color: var(--rich-black); padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-md); font-size: 0.75rem; font-weight: 700; z-index: 3;">
            ‚≠ê TOP 3
          </div>
          <img src="images/Quatro formaggi.png" alt="Pizza Cuatro Formaggi" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Cuatro Formaggi</h3>
            <p class="card-description">Fior di latte, pecorino romano, gorgonzola DOP y grana padano. Un festival de sabores.</p>
            <div class="card-price">12‚Ç¨</div>
            <button class="btn btn-primary" onclick="window.location.href='pedido.html'" style="width: 100%;">
              PEDIR AHORA
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIOS -->
  <section class="section fade-in">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">Lo que dicen nuestros clientes</h2>
        <p class="section-subtitle">Rese√±as reales de Google My Business</p>
      </div>
      <div class="grid grid-3">
        <div class="testimonial-card">
          <div class="testimonial-header">
            <div class="testimonial-avatar">M</div>
            <div>
              <div class="testimonial-info">
                <h4>Miguel Rafael</h4>
                <div class="testimonial-date">Hace 2 meses</div>
              </div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <p class="testimonial-text">
            Fui con unos amigos para probar y nos encant√≥ las 6 pizzas distintas que pedimos. Riqu√≠simas y la atenci√≥n un lujo. Repetiremos ‚ù§Ô∏è
          </p>
        </div>

        <div class="testimonial-card">
          <div class="testimonial-header">
            <div class="testimonial-avatar">E</div>
            <div>
              <div class="testimonial-info">
                <h4>Elena Salgueiro</h4>
                <div class="testimonial-date">Hace 3 meses</div>
              </div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <p class="testimonial-text">
            No somos sus colegas, somos vecinos de la zona. Es la segunda vez que pedimos y no ser√° la √∫ltima. RIQU√çSIMA. Todo lo que uno espera de una pizza. üòãüòãüòã
          </p>
        </div>

        <div class="testimonial-card">
          <div class="testimonial-header">
            <div class="testimonial-avatar">A</div>
            <div>
              <div class="testimonial-info">
                <h4>Antonio S√°nchez</h4>
                <div class="testimonial-date">Hace 3 meses</div>
              </div>
              <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <p class="testimonial-text">
            Pizzas super buenas y muy buen precio, encima los chicos que la llevan son muy majos y r√°pidos. Volver√©, incre√≠ble experiencia‚Ä¶
          </p>
        </div>
      </div>

      <div class="card" style="text-align: center; margin-top: var(--space-xxl); max-width: 600px;">
        <div class="card-content">
          <div style="font-size: 3rem; font-weight: 700; color: var(--gold); margin-bottom: var(--space-md);">4.7 ‚≠ê</div>
          <p style="font-size: 1.125rem; margin-bottom: var(--space-lg);">Basado en <strong>43 rese√±as</strong> de Google</p>
          <a href="https://g.co/kgs/DzYRGju" target="_blank" class="btn btn-outline">
            Ver todas las rese√±as
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- NUESTRAS PIZZAS -->
  <section class="auth-section fade-in" id="nuestras-pizzas">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">üçï Nuestras Pizzas</h2>
        <p class="section-subtitle">
          Elaboradas con ingredientes frescos importados directamente de Italia. Masa fermentada 48 horas y cocidas en horno de piedra.
        </p>
      </div>
      <div class="grid grid-3">
        <div class="card">
          <img src="images/Margarita.png" alt="Pizza Margarita" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Margarita</h3>
            <p class="card-description">Tomate San Marzano, fior di latte y albahaca fresca. La pizza m√°s cl√°sica y aut√©ntica.</p>
            <div class="card-price">10‚Ç¨</div>
          </div>
        </div>

        <div class="card">
          <img src="images/Bufala.png" alt="Pizza Bufala" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Bufala</h3>
            <p class="card-description">Tomate San Marzano, mozzarella di bufala, tomate natural, jam√≥n serrano y albahaca fresca.</p>
            <div class="card-price">14‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Peperonni.png" alt="Pizza Diavola" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Diavola</h3>
            <p class="card-description">Tomate San Marzano y pepperoni picante. Con estilo italiano.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Vegetariana.png" alt="Pizza Vegetariana" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Vegetariana</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, cebolla, champi√±√≥n, tomate natural y aceitunas negras.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>

        <div class="card">
          <img src="images/Prosciutto.png" alt="Pizza Prosciutto" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Prosciutto</h3>
            <p class="card-description">Tomate San Marzano, fior di latte y jam√≥n cocido de primera calidad.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
			
        </div>
		  <div class="card">
          <img src="images/Porchetta.png" alt="Pizza Porchetta" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Porchetta</h3>
            <p class="card-description">Tomate San Marzano, fior di latte y jugoso bacon.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Quatro formaggi.png" alt="Pizza Cuatro Formaggi" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Cuatro Formaggi</h3>
            <p class="card-description">Fior di latte, pecorino, gorgonzola DOP y grana padano. Un festival de sabores.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Capriciossa.png" alt="Pizza Capricciosa" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Capricciosa</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, champi√±ones, jam√≥n cocido, aceitunas y alcachofa.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/LeonardoDaVinci.png" alt="Pizza Leonardo Da Vinci" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Leonardo Da Vinci</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, jam√≥n serrano , queso Grana Padano y r√∫cula fresca.</p>
            <div class="card-price">14‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/SalchichaFriarielli.png" alt="Pizza Salchicha y Friarielli" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Salchicha y Friarielli</h3>
            <p class="card-description">Fior di latte, salchicha italiana y friarielli napolitanos.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/IlPadrino.png" alt="Pizza Il Padrino" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Il Padrino</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, jam√≥n serrano, tomate natural, burrata fresca y aceite de trufa. Una pizza digna del padrino.</p>
            <div class="card-price">15‚Ç¨</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CALZONES -->
  <section class="section fade-in" id="calzones">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">ü•ü Calzones</h2>
        <p class="section-subtitle">
          Nuestros calzones est√°n rellenos de los mejores ingredientes y horneados hasta conseguir una textura perfecta.
        </p>
      </div>
      <div class="grid grid-3">
        <div class="card">
          <img src="images/Calzone Traditionale.png" alt="Calzone Tradizionale" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Calzone Tradizionale</h3>
            <p class="card-description">San Marzano, fior di latte y jam√≥n cocido. El calzone m√°s tradicional.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Calzone Pepperoni.png" alt="Calzone Pepperoni" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Calzone Pepperoni</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, prosciutto y peperonni.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
        
        <div class="card">
          <img src="images/Calzone Vegetariano.png" alt="Calzone Vegetariano" class="card-image" loading="lazy">
          <div class="card-content">
            <h3 class="card-title">Calzone Vegetariano</h3>
            <p class="card-description">Tomate San Marzano, fior di latte, champi√±ones, tomate natural, aceitunas y cebolla.</p>
            <div class="card-price">12‚Ç¨</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA PRINCIPAL -->
  <section class="auth-section fade-in">
    <div class="section-inner">
      <div style="text-align: center;">
        <h2 class="section-title">¬øTienes hambre?</h2>
        <p class="section-subtitle">
          Haz tu pedido online desde nuestra plataforma segura y rec√≠belo caliente en casa.
        </p>
        <a href="pedido.html" class="btn btn-primary" style="font-size: 1.125rem; padding: var(--space-lg) var(--space-xxl);">
          Haz tu pedido ahora
        </a>
      </div>
    </div>
  </section>

  <!-- CONTACTO -->
  <section class="section fade-in" id="contacto">
    <div class="section-inner">
      <div class="section-header">
        <h2 class="section-title">üìç Contacto</h2>
        <p class="section-subtitle">Estamos aqu√≠ para atenderte. ¬°Cont√°ctanos!</p>
      </div>
      
      <div class="card" style="max-width: 800px;">
        <div class="card-content" style="text-align: center;">
          <div style="display: flex; flex-direction: column; gap: var(--space-lg); font-size: 1.125rem; line-height: 1.6; margin-top: var(--space-xl); align-items: center;">
            <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm);">
              <span style="color: var(--gold); font-size: 1.5rem;">üìç</span>
              <span style="text-align: center;">Avenida de Atenas 3, 28290 Las Rozas (Madrid), Espa√±a</span>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm);">
              <span style="color: var(--gold); font-size: 1.5rem;">üì±</span>
              <a href="tel:660668812" style="color: var(--gold); text-decoration: none; font-weight: 600;">660 668 812</a>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm);">
              <span style="color: var(--gold); font-size: 1.5rem;">üìß</span>
              <a href="mailto:PIZZASFRATELLIPAZZI@GMAIL.COM" style="color: var(--gold); text-decoration: none; font-weight: 600;">PIZZASFRATELLIPAZZI@GMAIL.COM</a>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm); text-align: center;">
              <span style="color: var(--gold); font-size: 1.5rem;">üïê</span>
              <span style="line-height: 1.4;">
                Martes y Mi√©rcoles: 20:00 - 23:00<br>
                Viernes, S√°bados y Domingos: 20:00 - 23:00
              </span>
            </div>
            
            <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm); font-size: 1rem; opacity: 0.7;">
              <span style="color: var(--gold);">üè¢</span>
              <span>CIF: B16359283</span>
            </div>
          </div>
          
          <div style="margin-top: var(--space-xxl);">
            <button class="btn btn-primary" onclick="FratelliPazzi.openWhatsApp()">
              üí¨ Chatea con nosotros
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- NEWSLETTER -->
  <section class="auth-section fade-in">
    <div class="section-inner">
      <div style="text-align: center; max-width: 600px;">
        <h2 class="section-title">Suscr√≠bete a nuestro bolet√≠n</h2>
        <p class="section-subtitle">
          Recibe nuestras √∫ltimas ofertas y novedades directamente en tu correo.
        </p>
        <div style="display: flex; gap: var(--space-md); margin-top: var(--space-xl); flex-wrap: wrap; justify-content: center;">
          <input 
            type="email" 
            placeholder="Tu email" 
            id="newsletter-email"
            class="form-input"
            style="flex: 1; min-width: 250px;"
            required
          >
          <button class="btn btn-primary" onclick="FratelliPazzi.suscribirse()">
            Suscribirse
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- WHATSAPP FLOATING BUTTON -->
  <div class="whatsapp-float" onclick="FratelliPazzi.openWhatsApp()">
    <div style="font-size: 1.5rem;">üí¨</div>
    <div>
      <div style="font-size: 0.875rem; line-height: 1.2;">¬øDudas?</div>
      <div style="font-size: 0.75rem; opacity: 0.9; line-height: 1.2;">Chatea con nosotros</div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 Fratelli Pazzi. Todos los derechos reservados. | Aut√©ntica cocina italiana en Madrid</p>
  </footer>

  <!-- LOGIN POPUP -->
  <div class="auth-popup" id="loginPopup">
    <div class="auth-popup-content">
      <div class="auth-popup-header">
        <h2>Iniciar Sesi√≥n</h2>
        <button class="auth-popup-close" onclick="FratelliPazzi.closeLoginForm()">√ó</button>
      </div>
      <div class="auth-popup-body">
        <form onsubmit="FratelliPazzi.handleLogin(event)">
          <div class="form-group">
            <input type="email" id="login-email" placeholder="Tu email" required class="form-input">
          </div>
          <div class="form-group">
            <input type="password" id="login-password" placeholder="Tu contrase√±a" required class="form-input">
          </div>
          <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: var(--space-lg);">
            INICIAR SESI√ìN
          </button>
          <div class="auth-error" id="loginError">
            <p>‚ùå Email o contrase√±a incorrectos</p>
          </div>
        </form>
        <div style="text-align: center; margin-bottom: var(--space-lg);">
          <a href="javascript:void(0)" onclick="FratelliPazzi.forgotPassword()" class="auth-link">¬øOlvidaste tu contrase√±a?</a>
        </div>
        <p style="text-align: center; font-size: 0.875rem; color: rgba(251, 244, 232, 0.7);">
          ¬øNo tienes cuenta? 
          <a href="javascript:void(0)" onclick="FratelliPazzi.switchToRegister()" class="auth-link">Reg√≠strate aqu√≠</a>
        </p>
      </div>
    </div>
  </div>

  <!-- REGISTER POPUP -->
  <div class="auth-popup" id="registerPopup">
    <div class="auth-popup-content">
      <div class="auth-popup-header">
        <h2>¬°√önete a la Famiglia!</h2>
        <button class="auth-popup-close" onclick="FratelliPazzi.closeRegisterForm()">√ó</button>
      </div>
      <div class="auth-popup-body">
        <form onsubmit="FratelliPazzi.handleRegistration(event)">
          <div class="form-group">
            <input type="text" id="register-name" placeholder="Tu nombre completo" required class="form-input">
          </div>
          <div class="form-group">
            <input type="email" id="register-email" placeholder="Tu email" required class="form-input">
          </div>
          <div class="form-group">
            <input type="password" id="register-password" placeholder="Tu contrase√±a (m√≠n. 6 caracteres)" required class="form-input">
          </div>
          <div class="form-group">
            <input type="password" id="register-confirm-password" placeholder="Confirma tu contrase√±a" required class="form-input">
          </div>
          <div class="form-group">
            <input type="tel" id="register-phone" placeholder="Tu tel√©fono (opcional)" class="form-input">
          </div>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="register-offers" checked>
              <span class="checkbox-visual"></span>
              <span>Quiero recibir ofertas especiales por email</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="register-terms" required>
              <span class="checkbox-visual"></span>
              <span>Acepto los <a href="javascript:void(0)" onclick="FratelliPazzi.showTerms()" class="auth-link">t√©rminos y condiciones</a></span>
            </label>
          </div>
          <button type="submit" class="btn btn-primary register-btn" style="width: 100%; margin-bottom: var(--space-lg);">
            CREAR MI CUENTA
          </button>
          <div class="auth-error" id="register-error">
            <p></p>
          </div>
        </form>
        <p style="text-align: center; font-size: 0.875rem; color: rgba(251, 244, 232, 0.7);">
          ¬øYa tienes cuenta? 
          <a href="javascript:void(0)" onclick="FratelliPazzi.showLoginFormFromRegister()" class="auth-link">Inicia sesi√≥n</a>
        </p>
      </div>
    </div>
  </div>

  <!-- JAVASCRIPT -->
  <script type="module">
    // Import Firebase
   import firebaseService from './firebase-config.js';

    // ========== FRATELLI PAZZI APPLICATION ==========
    const FratelliPazzi = {
      state: {
        currentSlide: 0,
        currentUser: null,
        intervals: {
          autoPlay: null,
          popupCountdown: null
        },
        isFirebaseEnabled: false,
        notifications: new Map(),
        notificationId: 0
      },

      // ========== SISTEMA DE NOTIFICACIONES ==========
      showNotification(message, type = 'info', title = '', options = {}) {
        const container = document.getElementById('notificationContainer');
        if (!container) return;

        const notificationId = ++this.state.notificationId;
        
        const config = {
          success: { icon: '‚úÖ', title: title || '¬°√âxito!' },
          error: { icon: '‚ùå', title: title || '¬°Oops!' },
          warning: { icon: '‚ö†Ô∏è', title: title || '¬°Atenci√≥n!' },
          info: { icon: '‚ÑπÔ∏è', title: title || 'Informaci√≥n' },
          fratelli: { icon: 'üçï', title: title || 'Fratelli Pazzi' }
        };

        const { icon, title: defaultTitle } = config[type] || config.info;
        const finalTitle = title || defaultTitle;

        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.setAttribute('data-id', notificationId);
        
        notification.innerHTML = `
          <div class="notification-header">
            <div class="notification-icon">${icon}</div>
            <h4 class="notification-title">${finalTitle}</h4>
          </div>
          <p class="notification-message">${message}</p>
          <button class="notification-close" onclick="FratelliPazzi.closeNotification(${notificationId})">√ó</button>
        `;

        container.appendChild(notification);
        this.state.notifications.set(notificationId, notification);

        setTimeout(() => {
          notification.classList.add('show');
        }, 10);

        if (options.autoClose !== false) {
          const duration = options.duration || 5000;
          setTimeout(() => {
            this.closeNotification(notificationId);
          }, duration);
        }

        return notificationId;
      },

      closeNotification(notificationId) {
        const notification = this.state.notifications.get(notificationId);
        if (!notification) return;

        notification.classList.remove('show');
        
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
          this.state.notifications.delete(notificationId);
        }, 400);
      },

      closeAllNotifications() {
        this.state.notifications.forEach((notification, id) => {
          this.closeNotification(id);
        });
      },

      showConfirmation(message, title = '¬øEst√°s seguro?', icon = 'üçï') {
        return new Promise((resolve) => {
          const modal = document.getElementById('confirmationModal');
          const titleEl = document.getElementById('confirmationTitle');
          const messageEl = document.getElementById('confirmationMessage');
          const iconEl = document.getElementById('confirmationIcon');
          const confirmBtn = document.getElementById('confirmationConfirm');
          const cancelBtn = document.getElementById('confirmationCancel');

          if (!modal) {
            resolve(false);
            return;
          }

          titleEl.textContent = title;
          messageEl.textContent = message;
          iconEl.textContent = icon;

          const newConfirmBtn = confirmBtn.cloneNode(true);
          const newCancelBtn = cancelBtn.cloneNode(true);
          confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
          cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);

          newConfirmBtn.addEventListener('click', () => {
            modal.classList.remove('show');
            resolve(true);
          });

          newCancelBtn.addEventListener('click', () => {
            modal.classList.remove('show');
            resolve(false);
          });

          const escapeHandler = (e) => {
            if (e.key === 'Escape') {
              modal.classList.remove('show');
              document.removeEventListener('keydown', escapeHandler);
              resolve(false);
            }
          };
          document.addEventListener('keydown', escapeHandler);

          modal.classList.add('show');
        });
      },

      // ========== NAVIGATION TO POINTS ==========
      navigateToPoints() {
        if (!this.state.currentUser) {
          this.showNotification(
            'Necesitas iniciar sesi√≥n para ver tus puntos.',
            'warning',
            'Sesi√≥n requerida'
          );
          return;
        }

        this.showNotification(
          'üöÄ Redirigiendo a tu secci√≥n de puntos...',
          'fratelli',
          'Navegando',
          { duration: 2000 }
        );

        setTimeout(() => {
          window.location.href = 'puntos.html';
        }, 1500);
      },

      // ========== INITIALIZATION ==========
      init() {
        console.log('üçï Inicializando Fratelli Pazzi...');
        
        try {
          this.checkFirebaseAvailability();
          this.setupEventListeners();
          this.initSlider();
          this.preloadImages();
          this.initMobileOptimizations();
          this.checkUserSession();
          this.checkEmailVerificationReturn();
          this.initHeaderVisibility();
          this.updateNavigationForDevice();
          
          console.log('‚úÖ Fratelli Pazzi inicializado correctamente');
        } catch (error) {
          console.error('‚ùå Error en inicializaci√≥n:', error);
          this.forceHideLoader();
        }
      },

      // ========== SLIDER INITIALIZATION ==========
      initSlider() {
        console.log('üé¨ Inicializando slider...');
        
        this.state.currentSlide = 0;
        
        setTimeout(() => {
          this.updateSlider();
          console.log('‚úÖ Slider inicializado');
        }, 100);
      },

      initHeaderVisibility() {
        const headerContainer = document.getElementById('headerContainer');
        if (headerContainer) {
          headerContainer.classList.add('visible');
        }
      },

      checkEmailVerificationReturn() {
        const urlParams = new URLSearchParams(window.location.search);
        const emailVerified = urlParams.get('emailVerified');
        const resent = urlParams.get('resent');
        
        if (emailVerified === 'true') {
          setTimeout(() => {
            if (this.state.currentUser && this.state.isFirebaseEnabled) {
              this.refreshUserEmailStatus();
            }
            
            let message = '¬°Excelente! Tu email ha sido verificado correctamente.';
            if (resent === 'true') {
              message += '\n\nGracias por verificar tu email despu√©s del reenv√≠o.';
            }
            message += '\n\nüéâ Ahora puedes disfrutar de todos los beneficios:\n‚Ä¢ Acumular puntos en cada pedido\n‚Ä¢ Pizzas gratis cada 100 puntos\n‚Ä¢ Ofertas exclusivas por email\n\n¬°Bienvenido oficialmente a la Famiglia Fratelli!';
            
            this.showNotification(message, 'success', '‚úÖ Email verificado', { duration: 10000 });
            
            const cleanUrl = window.location.origin + window.location.pathname;
            window.history.replaceState({}, document.title, cleanUrl);
          }, 2000);
        }
      },

      async refreshUserEmailStatus() {
        if (!this.state.isFirebaseEnabled || !window.firebaseService.getCurrentUser()) {
  return;
}

try {
  const result = await window.firebaseService.refreshUserEmailStatus();
  
  if (result.success && result.emailVerified && this.state.currentUser && !this.state.currentUser.emailVerified) {
    console.log('‚úÖ Email verificado detectado, actualizando estado...');
    
    this.state.currentUser.emailVerified = true;
    this.updateUserInterface();
    console.log('üéâ Estado de verificaci√≥n actualizado correctamente');
  }
} catch (error) {
  console.error('‚ùå Error refrescando estado del email:', error);
}
      },

      checkFirebaseAvailability() {
  if (typeof window.firebaseService !== 'undefined') {
    this.state.isFirebaseEnabled = true;
    console.log('üî• Firebase habilitado');
    this.setupFirebaseAuth();
  } else {
    console.log('‚ö†Ô∏è Firebase no disponible, usando localStorage');
    this.state.isFirebaseEnabled = false;
  }
},

      setupFirebaseAuth() {
        if (!this.state.isFirebaseEnabled) return;
        
        try {
          window.firebaseService.onAuthStateChanged(async (user) => {
            if (user) {
              console.log('üë§ Usuario autenticado:', user.email);
              
              let userData = {
                uid: user.uid,
                email: user.email,
                name: user.displayName || 'Usuario',
                emailVerified: user.emailVerified,
                points: 0
              };
              
              try {
                const userDocResult = await window.firebaseService.getUserData(user.uid);
                
                if (userDocResult.success) {
  const firestoreData = userDocResult.data;
                  userData = {
                    ...userData,
                    name: firestoreData.name || user.displayName || 'Usuario',
                    points: firestoreData.points || 0,
                    phone: firestoreData.phone,
                    acceptsOffers: firestoreData.acceptsOffers,
                    registeredAt: firestoreData.registeredAt
                  };
                }
              } catch (firestoreError) {
                console.error('‚ö†Ô∏è Error cargando datos de Firestore:', firestoreError);
              }
              
              this.state.currentUser = userData;
              this.updateUserInterface();
              
              const wasUnverified = localStorage.getItem('fratelli_was_unverified') === 'true';
              if (user.emailVerified && wasUnverified) {
                localStorage.removeItem('fratelli_was_unverified');
                setTimeout(() => {
                  this.showNotification(
                    '¬°Felicidades! Tu email ha sido verificado exitosamente.\n\nüéâ Ahora puedes disfrutar de todos los beneficios de Fratelli Pazzi!',
                    'success',
                    '‚úÖ Email verificado',
                    { duration: 10000 }
                  );
                }, 1000);
              }
              
              if (!user.emailVerified) {
                localStorage.setItem('fratelli_was_unverified', 'true');
              }
              
            } else {
              console.log('üë§ Usuario no autenticado');
              this.state.currentUser = null;
              localStorage.removeItem('fratelli_was_unverified');
              this.showGuestInterface();
            }
          });
        } catch (error) {
          console.error('Error configurando Firebase Auth:', error);
          this.state.isFirebaseEnabled = false;
          this.showNotification(
            'Error de conexi√≥n con el sistema de autenticaci√≥n. Usando modo offline.',
            'warning',
            'Modo Offline'
          );
        }
      },

      // ========== EVENT LISTENERS ==========
      setupEventListeners() {
        window.addEventListener('load', () => {
          this.hideMainLoader();
          this.startAutoPlay();
        });

        document.addEventListener('DOMContentLoaded', () => {
          this.setupSliderTouchEvents();
          this.setupSmoothScroll();
          this.setupScrollEffects();
          
          document.addEventListener('click', (e) => {
            const dropdownDesktop = document.getElementById('userDropdownDesktop');
            const dropdownMobile = document.getElementById('userDropdownMobile');
            const userWelcomes = document.querySelectorAll('.user-welcome');
            
            let clickedOnUserWelcome = false;
            userWelcomes.forEach(welcome => {
              if (welcome?.contains(e.target)) {
                clickedOnUserWelcome = true;
              }
            });
            
            if (!clickedOnUserWelcome) {
              if (dropdownDesktop) {
                dropdownDesktop.classList.remove('show');
                dropdownDesktop.style.display = 'none';
              }
              if (dropdownMobile) {
                dropdownMobile.classList.remove('show');
                dropdownMobile.style.display = 'none';
              }
            }
          });

          this.setupCheckboxStyling();
        });

        window.addEventListener('beforeunload', () => {
          this.cleanup();
        });

        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowLeft') {
            this.moveSlider(-1);
          } else if (e.key === 'ArrowRight') {
            this.moveSlider(1);
          }
          
          if (e.ctrlKey && e.altKey && e.key === 'D') {
            this.showDebugInfo();
          }
        });

        const sliderElement = document.querySelector('.offers-slider');
        if (sliderElement) {
          sliderElement.addEventListener('mouseenter', () => this.stopAutoPlay());
          sliderElement.addEventListener('mouseleave', () => this.startAutoPlay());
        }
      },

      setupScrollEffects() {
        const headerContainer = document.getElementById('headerContainer');
        let lastScrollTop = 0;
        let scrollTimeout = null;

        window.addEventListener('scroll', () => {
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const isMobile = window.innerWidth <= 768;
          
          if (headerContainer) {
            if (scrollTop > 100) {
              headerContainer.classList.add('scrolled');
            } else {
              headerContainer.classList.remove('scrolled');
            }

            if (isMobile && scrollTop > 150) {
              if (scrollTop > lastScrollTop && scrollTop > 200) {
                headerContainer.classList.add('hidden');
                headerContainer.classList.remove('visible');
              } else if (scrollTop < lastScrollTop) {
                headerContainer.classList.remove('hidden');
                headerContainer.classList.add('visible');
              }
            } else if (isMobile && scrollTop <= 150) {
              headerContainer.classList.remove('hidden');
              headerContainer.classList.add('visible');
            }

            if (!isMobile) {
              headerContainer.classList.remove('hidden');
              headerContainer.classList.add('visible');
            }
          }
          
          lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;

          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(() => {
            if (isMobile && headerContainer && scrollTop > 200) {
              headerContainer.classList.remove('hidden');
              headerContainer.classList.add('visible');
              
              setTimeout(() => {
                const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
                if (currentScroll > 200 && window.innerWidth <= 768) {
                  headerContainer.classList.add('hidden');
                  headerContainer.classList.remove('visible');
                }
              }, 3000);
            }
          }, 150);
        }, { passive: true });

        window.addEventListener('resize', () => {
          if (headerContainer) {
            const isMobile = window.innerWidth <= 768;
            if (!isMobile) {
              headerContainer.classList.remove('hidden');
              headerContainer.classList.add('visible');
            }
            this.updateNavigationForDevice();
          }
        });

        window.addEventListener('touchstart', () => {
          if (headerContainer && window.innerWidth <= 768) {
            headerContainer.classList.remove('hidden');
            headerContainer.classList.add('visible');
          }
        }, { passive: true });
      },

      updateNavigationForDevice() {
        const desktopLayout = document.querySelector('.header-desktop-layout');
        const mobileLayout = document.querySelector('.header-mobile-layout');
        
        if (window.innerWidth <= 768) {
          if (desktopLayout) desktopLayout.style.display = 'none';
          if (mobileLayout) mobileLayout.style.display = 'block';
        } else {
          if (desktopLayout) desktopLayout.style.display = 'flex';
          if (mobileLayout) mobileLayout.style.display = 'none';
        }
        
        if (this.state.currentUser) {
          this.updateUserInterface();
        } else {
          this.showGuestInterface();
        }
      },

      setupCheckboxStyling() {
        try {
          document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            const checkmark = checkbox.nextElementSibling;
            if (!checkmark) return;
            
            checkbox.addEventListener('change', () => {
              if (checkbox.checked) {
                checkmark.style.background = 'var(--gold)';
              } else {
                checkmark.style.background = 'rgba(30, 33, 34, 0.6)';
              }
            });

            if (checkbox.checked) {
              checkmark.style.background = 'var(--gold)';
            }
          });
        } catch (error) {
          console.error('Error en setupCheckboxStyling:', error);
        }
      },

      // ========== LOADER MANAGEMENT ==========
      hideMainLoader() {
        const loader = document.getElementById('pageLoader');
        if (loader) {
          setTimeout(() => {
            loader.classList.add('hidden');
            this.startSectionAnimations();
          }, 800);
        }
      },

      forceHideLoader() {
        const loader = document.getElementById('pageLoader');
        if (loader) {
          loader.classList.add('hidden');
          this.startSectionAnimations();
        }
      },

      startSectionAnimations() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
            }
          });
        }, {
          threshold: 0.2,
          rootMargin: '0px 0px -50px 0px'
        });

        document.querySelectorAll('.fade-in').forEach(section => {
          observer.observe(section);
        });
      },

      // ========== SLIDER FUNCTIONALITY ==========
      updateSlider() {
        const wrapper = document.querySelector('.slider-wrapper');
        const dots = document.querySelectorAll('.slider-dots span');
        
        if (wrapper) {
          wrapper.style.transform = `translateX(-${this.state.currentSlide * 100}%)`;
          console.log(`üéØ Slider actualizado: slide ${this.state.currentSlide}`);
        }
        
        dots.forEach(dot => dot.classList.remove('active'));
        if (dots[this.state.currentSlide]) {
          dots[this.state.currentSlide].classList.add('active');
        }
      },

      moveSlider(direction) {
        const slides = document.querySelectorAll('.slider-wrapper img');
        console.log(`üé¨ moveSlider called with direction: ${direction}, total slides: ${slides.length}`);
        
        if (slides.length > 0) {
          this.state.currentSlide = (this.state.currentSlide + direction + slides.length) % slides.length;
          console.log(`üìç New slide index: ${this.state.currentSlide}`);
          this.updateSlider();
        }
      },

      moveSliderTo(index) {
        const slides = document.querySelectorAll('.slider-wrapper img');
        console.log(`üéØ moveSliderTo called with index: ${index}, total slides: ${slides.length}`);
        
        if (slides.length > 0 && index >= 0 && index < slides.length) {
          this.state.currentSlide = index;
          console.log(`üìç Slide set to index: ${this.state.currentSlide}`);
          this.updateSlider();
        }
      },

      startAutoPlay() {
        const slides = document.querySelectorAll('.slider-wrapper img');
        if (slides.length > 0) {
          this.state.intervals.autoPlay = setInterval(() => {
            console.log('üîÑ Auto-advancing slider...');
            this.moveSlider(1);
          }, 5000);
          console.log('‚ñ∂Ô∏è AutoPlay iniciado');
        }
      },

      stopAutoPlay() {
        if (this.state.intervals.autoPlay) {
          clearInterval(this.state.intervals.autoPlay);
          this.state.intervals.autoPlay = null;
          console.log('‚è∏Ô∏è AutoPlay detenido');
        }
      },

      setupSliderTouchEvents() {
        const slider = document.querySelector('.offers-slider');
        if (!slider) return;

        let startX, currentX, isDragging = false;
        
        slider.addEventListener('touchstart', (e) => {
          startX = e.touches[0].clientX;
          isDragging = true;
          this.stopAutoPlay();
        }, { passive: true });
        
        slider.addEventListener('touchmove', (e) => {
          if (!isDragging) return;
          currentX = e.touches[0].clientX;
        }, { passive: true });
        
        slider.addEventListener('touchend', (e) => {
          if (!isDragging) return;
          isDragging = false;
          
          const diffX = startX - currentX;
          const threshold = 50;
          
          if (Math.abs(diffX) > threshold) {
            if (diffX > 0) {
              this.moveSlider(1);
            } else {
              this.moveSlider(-1);
            }
          }
          
          this.startAutoPlay();
        }, { passive: true });
      },

      // ========== USER AUTHENTICATION ==========
      checkUserSession() {
        if (this.state.isFirebaseEnabled) {
          return;
        }
        
        const userMenu = document.getElementById('userMenu');
        if (!userMenu) {
          setTimeout(() => this.checkUserSession(), 200);
          return;
        }
        
        const savedUser = localStorage.getItem('fratelli_current_user');
        if (savedUser) {
          this.state.currentUser = JSON.parse(savedUser);
          this.updateUserInterface();
        } else {
          this.showGuestInterface();
        }
      },

      updateUserInterface() {
        const userMenu = document.getElementById('userMenu');
        const userMenuMobile = document.getElementById('userMenuMobile');
        const authSection = document.getElementById('authSection');
        const profileSection = document.getElementById('profileSection');
        const mainNavigation = document.getElementById('mainNavigation');
        const mainNavigationMobile = document.getElementById('mainNavigationMobile');
        
        if (!this.state.currentUser) return;
        
        if (authSection) authSection.style.display = 'none';
        if (profileSection) profileSection.style.display = 'block';
        
        const createNavigation = () => `
          <a href="#ofertas">Ofertas</a>
          <a href="#nuestras-pizzas">Pizzas</a>
          <a href="#calzones">Calzones</a>
          <a href="javascript:void(0)" onclick="FratelliPazzi.navigateToPoints()" class="nav-rewards">
            Puntos
            <span class="rewards-badge">${this.state.currentUser.points || 0}</span>
          </a>
          <a href="pedido.html">Pedido</a>
          <a href="#contacto">Contacto</a>
        `;
        
        if (mainNavigation) {
          mainNavigation.innerHTML = createNavigation();
        }
        if (mainNavigationMobile) {
          mainNavigationMobile.innerHTML = createNavigation();
        }
        
        const profileAvatar = document.getElementById('profileAvatar');
        const profileGreeting = document.getElementById('profileGreeting');
        const profileStatus = document.getElementById('profileStatus');
        const userPoints = document.getElementById('userPoints');
        const userOrders = document.getElementById('userOrders');
        const freeRewards = document.getElementById('freeRewards');
        
        if (profileAvatar) {
          profileAvatar.textContent = this.state.currentUser.name.charAt(0).toUpperCase();
        }
        if (profileGreeting) {
          profileGreeting.textContent = `¬°Hola ${this.state.currentUser.name.split(' ')[0]}!`;
        }
        if (profileStatus) {
          profileStatus.textContent = this.state.currentUser.emailVerified ? 
            'Miembro verificado de la Famiglia' : 'Email pendiente de verificaci√≥n';
        }
        if (userPoints) {
          userPoints.textContent = this.state.currentUser.points || 0;
        }
        if (userOrders) {
          userOrders.textContent = (this.state.currentUser.orders && this.state.currentUser.orders.length) || 0;
        }
        if (freeRewards) {
          const points = this.state.currentUser.points || 0;
          freeRewards.textContent = Math.floor(points / 100);
        }
        
        const emailVerificationBadge = !this.state.currentUser.emailVerified ? 
          '<span style="background: #ff6b6b; color: white; font-size: 8px; padding: 1px 4px; border-radius: 8px; margin-left: 3px;">üìß</span>' : '';
        
        const createUserMenuContent = (isMobile = false) => `
          <div class="user-menu">
            <div class="user-welcome" onclick="toggleDropdown('${isMobile ? 'mobile' : 'desktop'}')">
              <div class="user-avatar">${this.state.currentUser.name.charAt(0).toUpperCase()}</div>
              <span>${this.state.currentUser.name.split(' ')[0]}</span>
              ${emailVerificationBadge}
              <span style="font-size: 10px;">‚ñº</span>
            </div>
            <div class="user-dropdown" id="userDropdown${isMobile ? 'Mobile' : 'Desktop'}">
              ${!this.state.currentUser.emailVerified ? 
                '<a href="javascript:void(0)" onclick="FratelliPazzi.resendVerificationEmail()" style="color: #ff6b6b; font-weight: bold;">üìß Verificar Email</a>' : ''}
              <a href="javascript:void(0)" onclick="FratelliPazzi.showProfile()">üë§ Mi Perfil</a>
              <a href="javascript:void(0)" onclick="FratelliPazzi.showOrderHistory()">üìã Mis Pedidos</a>
              <a href="javascript:void(0)" onclick="FratelliPazzi.navigateToPoints()">‚≠ê Mis Puntos (${this.state.currentUser.points || 0})</a>
              <a href="javascript:void(0)" onclick="FratelliPazzi.logout()">üëã Cerrar Sesi√≥n</a>
            </div>
          </div>
        `;

        if (userMenu) {
          userMenu.innerHTML = createUserMenuContent(false);
        }
        if (userMenuMobile) {
          userMenuMobile.innerHTML = createUserMenuContent(true);
        }
      },

      showGuestInterface() {
        const userMenu = document.getElementById('userMenu');
        const userMenuMobile = document.getElementById('userMenuMobile');
        const authSection = document.getElementById('authSection');
        const profileSection = document.getElementById('profileSection');
        const mainNavigation = document.getElementById('mainNavigation');
        const mainNavigationMobile = document.getElementById('mainNavigationMobile');
        
        // BOTONES HORIZONTALES MEJORADOS
        const createGuestButtons = (isMobile = false) => `
          <div class="guest-buttons">
            <button class="btn btn-outline" onclick="FratelliPazzi.showLoginForm()">
              Entrar
            </button>
            <button class="btn btn-primary" onclick="FratelliPazzi.showRegisterForm()">
              Registro
            </button>
          </div>
        `;
        
        if (userMenu) {
          userMenu.innerHTML = createGuestButtons(false);
        }
        if (userMenuMobile) {
          userMenuMobile.innerHTML = createGuestButtons(true);
        }
        
        const createGuestNavigation = () => `
          <a href="#ofertas">Ofertas</a>
          <a href="#nuestras-pizzas">Pizzas</a>
          <a href="#calzones">Calzones</a>
          <a href="pedido.html">Pedido</a>
          <a href="#contacto">Contacto</a>
        `;
        
        if (mainNavigation) {
          mainNavigation.innerHTML = createGuestNavigation();
        }
        if (mainNavigationMobile) {
          mainNavigationMobile.innerHTML = createGuestNavigation();
        }
        
        if (authSection) authSection.style.display = 'block';
        if (profileSection) profileSection.style.display = 'none';
      },

      toggleDropdown(type = 'desktop') {
        const dropdownId = type === 'mobile' ? 'userDropdownMobile' : 'userDropdownDesktop';
        const dropdown = document.getElementById(dropdownId);
        
        console.log(`üîΩ toggleDropdown called for ${type}, dropdown:`, dropdown);
        
        if (dropdown) {
          const isVisible = dropdown.classList.contains('show');
          
          document.querySelectorAll('.user-dropdown').forEach(d => {
            d.classList.remove('show');
            d.style.display = 'none';
          });
          
          if (!isVisible) {
            dropdown.style.display = 'block';
            setTimeout(() => {
              dropdown.classList.add('show');
            }, 10);
            
            console.log(`‚úÖ Dropdown ${type} abierto`);
          } else {
            console.log(`‚ùå Dropdown ${type} cerrado`);
          }
        } else {
          console.error(`‚ùå No se encontr√≥ el dropdown: ${dropdownId}`);
        }
      },

      // ========== LOGIN FUNCTIONALITY ==========
      showLoginForm() {
        this.closeRegisterForm();
        const popup = document.getElementById('loginPopup');
        if (popup) {
          popup.style.display = 'flex';
          setTimeout(() => {
            popup.style.opacity = '1';
          }, 10);
          document.getElementById('loginError').style.display = 'none';
        }
      },

      closeLoginForm() {
        const popup = document.getElementById('loginPopup');
        if (popup) {
          popup.style.opacity = '0';
          setTimeout(() => {
            popup.style.display = 'none';
          }, 300);
          document.getElementById('login-email').value = '';
          document.getElementById('login-password').value = '';
          document.getElementById('loginError').style.display = 'none';
        }
      },

      async handleLogin(event) {
        event.preventDefault();
        
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        
        if (this.state.isFirebaseEnabled) {
          try {
            const result = await window.firebaseService.signIn(email, password);
if (!result.success) {
  throw result.error;
}
const userCredential = { user: result.user };
            
            if (!userCredential.user.emailVerified) {
              this.closeLoginForm();
              
              const shouldResend = await this.showConfirmation(
                `Tu email no est√° verificado a√∫n.\n\nüìß Email: ${email}\n\n¬øQuieres que te reenviemos el email de verificaci√≥n?`,
                '‚ö†Ô∏è Email no verificado',
                'üìß'
              );
              
              if (shouldResend) {
                try {
                  const emailResult = await window.firebaseService.sendEmailVerification(userCredential.user);
if (!emailResult.success) {
  console.error('Error enviando email de verificaci√≥n:', emailResult.error);
}	
                  this.showNotification(
                    'Email de verificaci√≥n reenviado exitosamente.\n\nRevisa tu bandeja de entrada y la carpeta de spam.',
                    'success',
                    'üìß Email enviado'
                  );
                } catch (error) {
                  this.showNotification(
                    'Error al reenviar el email. Puedes intentarlo desde tu perfil.',
                    'error',
                    'Error en env√≠o'
                  );
                }
              }
              
              this.updateUserInterface();
              this.showNotification(
                `¬°Hola ${email}! Recuerda verificar tu email üìß`,
                'fratelli',
                '¬°Bienvenido!'
              );
            } else {
              this.closeLoginForm();
              this.showNotification(
                '¬°Bienvenido de vuelta! Ya puedes empezar a acumular puntos.',
                'success',
                '¬°Perfecto!'
              );
            }
          } catch (error) {
            let errorMessage = 'Email o contrase√±a incorrectos';
            if (error.code === 'auth/user-not-found') {
              errorMessage = 'No existe una cuenta con este email';
            } else if (error.code === 'auth/wrong-password') {
              errorMessage = 'Contrase√±a incorrecta';
            } else if (error.code === 'auth/invalid-email') {
              errorMessage = 'Email no v√°lido';
            }
            
            this.showNotification(errorMessage, 'error', 'Error de acceso');
          }
        } else {
          const users = JSON.parse(localStorage.getItem('fratelli_users') || '[]');
          const user = users.find(u => u.email === email && u.password === password);
          
          if (user) {
            this.state.currentUser = user;
            localStorage.setItem('fratelli_current_user', JSON.stringify(user));
            this.closeLoginForm();
            this.updateUserInterface();
            this.showNotification(
              `¬°Bienvenido de vuelta, ${user.name.split(' ')[0]}!`,
              'success',
              '¬°Hola de nuevo!'
            );
          } else {
            this.showNotification(
              'Email o contrase√±a incorrectos. Verifica tus datos.',
              'error',
              'Error de acceso'
            );
          }
        }
      },

      switchToRegister() {
        this.closeLoginForm();
        setTimeout(() => this.showRegisterForm(), 300);
      },

      async forgotPassword() {
        const email = prompt('Introduce tu email para restablecer la contrase√±a:');
        
        if (!email) return;
        
        if (!email.includes('@')) {
          this.showNotification(
            'Por favor, introduce un email v√°lido.',
            'warning',
            'Email inv√°lido'
          );
          return;
        }
        
        if (this.state.isFirebaseEnabled) {
          try {
            const result = await window.firebaseService.sendPasswordReset(email);
if (!result.success) {
  throw result.error;
}
            
            this.showNotification(
              `Email de restablecimiento enviado a ${email}\n\nRevisa tu bandeja de entrada y sigue las instrucciones.`,
              'success',
              'üìß Email enviado',
              { duration: 8000 }
            );
          } catch (error) {
            let errorMessage = 'Error al enviar el email de restablecimiento.';
            
            if (error.code === 'auth/user-not-found') {
              errorMessage = 'No existe una cuenta registrada con este email.';
            } else if (error.code === 'auth/invalid-email') {
              errorMessage = 'El formato del email no es v√°lido.';
            }
            
            this.showNotification(errorMessage, 'error', 'Error en restablecimiento');
          }
        } else {
          this.showNotification(
            'Para recuperar tu contrase√±a en modo offline, contacta con nosotros:\nüìß PIZZASFRATELLIPAZZI@GMAIL.COM\nüì± 660 668 812',
            'info',
            'Contacto requerido',
            { duration: 8000 }
          );
        }
      },

      async resendVerificationEmail() {
        if (!this.state.currentUser || this.state.currentUser.emailVerified) {
          this.showNotification(
            'Tu email ya est√° verificado o no tienes una sesi√≥n activa.',
            'info',
            'No es necesario'
          );
          return;
        }
        
        if (this.state.isFirebaseEnabled && window.firebaseService.getCurrentUser()) {
  try {
    const actionCodeSettings = {
      url: `${window.location.origin}?emailVerified=true&resent=true`,
      handleCodeInApp: false
    };
    
    const result = await window.firebaseService.sendEmailVerification(null, actionCodeSettings);
    if (!result.success) {
      throw result.error;
    }
            
            this.showNotification(
              `Email de verificaci√≥n reenviado exitosamente\n\nüì¨ Enviado a: ${this.state.currentUser.email}\n\n‚úÖ Revisa tu bandeja de entrada y la carpeta de spam.`,
              'success',
              'üìß Email reenviado',
              { duration: 10000 }
            );
            
          } catch (error) {
            let errorMessage = 'Error al reenviar el email de verificaci√≥n.';
            
            if (error.code === 'auth/too-many-requests') {
              errorMessage = 'Demasiados intentos de reenv√≠o. Espera al menos 1 minuto antes de intentar de nuevo.';
            }
            
            this.showNotification(errorMessage, 'error', '‚ùå Error en reenv√≠o');
          }
        }
      },

      // ========== REGISTER FUNCTIONALITY ==========
      showRegisterForm() {
        this.closeLoginForm();
        const popup = document.getElementById('registerPopup');
        if (popup) {
          popup.style.display = 'flex';
          setTimeout(() => {
            popup.style.opacity = '1';
          }, 10);
        }
      },

      closeRegisterForm() {
        const popup = document.getElementById('registerPopup');
        if (popup) {
          popup.style.opacity = '0';
          setTimeout(() => {
            popup.style.display = 'none';
          }, 300);
          this.clearRegistrationForm();
        }
      },

      async handleRegistration(event) {
        event.preventDefault();
        
        const name = document.getElementById('register-name').value.trim();
        const email = document.getElementById('register-email').value.trim().toLowerCase();
        const password = document.getElementById('register-password').value;
        const confirmPassword = document.getElementById('register-confirm-password').value;
        const phone = document.getElementById('register-phone').value.trim();
        const acceptsOffers = document.getElementById('register-offers').checked;
        const acceptsTerms = document.getElementById('register-terms').checked;
        
        if (!acceptsTerms) {
          this.showNotification(
            'Debes aceptar los t√©rminos y condiciones para continuar.',
            'warning',
            'T√©rminos requeridos'
          );
          return;
        }
        
        if (password.length < 6) {
          this.showNotification(
            'La contrase√±a debe tener al menos 6 caracteres.',
            'warning',
            'Contrase√±a muy corta'
          );
          return;
        }
        
        if (password !== confirmPassword) {
          this.showNotification(
            'Las contrase√±as no coinciden. Por favor, verifica que sean iguales.',
            'error',
            'Contrase√±as diferentes'
          );
          return;
        }

        const registerBtn = document.querySelector('.register-btn');
        const originalText = registerBtn.innerHTML;
        registerBtn.innerHTML = '<div class="loading-dots" style="justify-content: center; margin: 0;"><div class="loading-dot" style="width: 8px; height: 8px;"></div><div class="loading-dot" style="width: 8px; height: 8px;"></div><div class="loading-dot" style="width: 8px; height: 8px;"></div></div>';
        registerBtn.disabled = true;

        try {
          if (this.state.isFirebaseEnabled) {
            const result = await window.firebaseService.signUp(email, password, {
  name: name,
  phone: phone,
  acceptsOffers: acceptsOffers
});

if (!result.success) {
  throw result.error;
}

const userCredential = { user: result.user };

            this.state.currentUser = {
              uid: userCredential.user.uid,
              name: name,
              email: email,
              points: 0,
              emailVerified: false
            };
            
          } else {
            const existingUsers = JSON.parse(localStorage.getItem('fratelli_users') || '[]');
            const emailExists = existingUsers.find(u => u.email.toLowerCase() === email);
            
            if (emailExists) {
              this.showNotification(
                `Ya existe una cuenta registrada con el email: ${email}`,
                'error',
                'Email ya registrado'
              );
              registerBtn.innerHTML = originalText;
              registerBtn.disabled = false;
              return;
            }

            const newUser = {
              id: Date.now(),
              name: name,
              email: email,
              password: password,
              phone: phone || null,
              acceptsOffers: acceptsOffers,
              registeredAt: new Date().toISOString(),
              points: 0,
              orders: [],
              hasUsedWelcomeDiscount: false,
              emailVerified: true
            };

            existingUsers.push(newUser);
            localStorage.setItem('fratelli_users', JSON.stringify(existingUsers));
            localStorage.setItem('fratelli_current_user', JSON.stringify(newUser));
            
            this.state.currentUser = newUser;
          }

          setTimeout(() => {
            this.closeRegisterForm();
            this.updateUserInterface();
            
            if (this.state.isFirebaseEnabled) {
              this.showNotification(
                `¬°Hola ${name.split(' ')[0]}! Tu cuenta ha sido creada exitosamente.\n\nüìß Hemos enviado un email de verificaci√≥n a ${email}\n\n¬°Bienvenido a la Famiglia Fratelli!`,
                'fratelli',
                'üçï ¬°Cuenta creada!',
                { duration: 15000 }
              );
            } else {
              this.showNotification(
                `¬°Bienvenido ${name.split(' ')[0]}! Tu cuenta ha sido creada exitosamente.`,
                'success',
                'üçï ¬°Cuenta creada!'
              );
            }
            
            registerBtn.innerHTML = originalText;
            registerBtn.disabled = false;
          }, 2000);

        } catch (error) {
          let errorMessage = 'Error al crear la cuenta.';
          
          if (error.code === 'auth/email-already-in-use') {
            this.showNotification(
              'Ya existe una cuenta con este email. ¬øQuieres iniciar sesi√≥n?',
              'warning',
              'Email ya registrado'
            );
          } else if (error.code === 'auth/invalid-email') {
            this.showNotification(
              'El formato del email no es v√°lido.',
              'error',
              'Email inv√°lido'
            );
          } else if (error.code === 'auth/weak-password') {
            this.showNotification(
              'La contrase√±a es muy d√©bil. Debe tener al menos 6 caracteres.',
              'warning',
              'Contrase√±a d√©bil'
            );
          } else {
            this.showNotification(
              `${errorMessage} ${error.message}`,
              'error',
              'Error de registro'
            );
          }
          
          registerBtn.innerHTML = originalText;
          registerBtn.disabled = false;
        }
      },

      showLoginFormFromRegister() {
        this.closeRegisterForm();
        setTimeout(() => this.showLoginForm(), 300);
      },

      clearRegistrationForm() {
        const fields = ['register-name', 'register-email', 'register-password', 'register-confirm-password', 'register-phone'];
        fields.forEach(id => {
          const field = document.getElementById(id);
          if (field) field.value = '';
        });
        
        const checkboxes = ['register-offers', 'register-terms'];
        checkboxes.forEach(id => {
          const checkbox = document.getElementById(id);
          if (checkbox) {
            checkbox.checked = id === 'register-offers';
            const checkmark = checkbox.nextElementSibling;
            if (checkmark) {
              if (checkbox.checked) {
                checkmark.style.background = 'var(--gold)';
              } else {
                checkmark.style.background = 'rgba(30, 33, 34, 0.6)';
              }
            }
          }
        });
      },

      showTerms() {
        window.open('terminos-condiciones.html', '_blank', 'width=900,height=700,scrollbars=yes,resizable=yes');
      },

      // ========== USER ACTIONS ==========
      async logout() {
        const shouldLogout = await this.showConfirmation(
          'Se cerrar√° tu sesi√≥n y tendr√°s que iniciar sesi√≥n de nuevo para acceder a tu cuenta.',
          '¬øCerrar sesi√≥n?',
          'üëã'
        );

        if (shouldLogout) {
          if (this.state.isFirebaseEnabled) {
            try {
              await window.firebaseService.signOut();
            } catch (error) {
              console.error('Error al cerrar sesi√≥n:', error);
            }
          } else {
            localStorage.removeItem('fratelli_current_user');
          }
          
          this.state.currentUser = null;
          this.showGuestInterface();
          this.showNotification(
            '¬°Hasta pronto! Te esperamos para tu pr√≥xima pizza deliciosa.',
            'fratelli',
            'üëã ¬°Nos vemos!'
          );
        }
      },

      showProfile() {
        this.showNotification(
          'Funcionalidad en desarrollo. Pronto podr√°s editar tu perfil completo.',
          'info',
          'üöß Pr√≥ximamente'
        );
      },

      showOrderHistory() {
        if (!this.state.currentUser) return;
        
        this.showNotification(
          '¬°A√∫n no has realizado ning√∫n pedido!\n\n¬øQu√© te parece si empezamos con una deliciosa Margarita?',
          'info',
          'üìã Historial de Pedidos'
        );
      },

      // ========== UTILITY FUNCTIONS ==========
      suscribirse() {
        const email = document.getElementById('newsletter-email');
        if (!email) return;
        
        const emailValue = email.value;
        if (emailValue && emailValue.includes('@')) {
          this.showNotification(
            `¬°Gracias por suscribirte! Recibir√°s nuestras ofertas en ${emailValue}`,
            'success',
            'üìß ¬°Suscrito!'
          );
          email.value = '';
        } else {
          this.showNotification(
            'Por favor, introduce un email v√°lido.',
            'warning',
            'Email requerido'
          );
        }
      },

      openWhatsApp() {
        const phoneNumber = '34660668812';
        const message = encodeURIComponent('¬°Hola! Me gustar√≠a hacer un pedido en Fratelli Pazzi üçï');
        const whatsappURL = `https://wa.me/${phoneNumber}?text=${message}`;
        
        window.open(whatsappURL, '_blank');
      },

      setupSmoothScroll() {
        document.querySelectorAll('.nav-main a').forEach(link => {
          link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            
            if (href && href.startsWith('#') && href.length > 1) {
              e.preventDefault();
              const targetId = href.substring(1);
              const targetElement = document.getElementById(targetId);
              
              if (targetElement) {
                const headerContainer = document.getElementById('headerContainer');
                const isMobile = window.innerWidth <= 768;
                
                let headerHeight = 80;
                if (headerContainer) {
                  headerHeight = headerContainer.offsetHeight;
                }
                
                const extraPadding = isMobile ? 40 : 60;
                const totalOffset = headerHeight + extraPadding;
                
                const targetPosition = targetElement.offsetTop - totalOffset;
                
                window.scrollTo({
                  top: Math.max(0, targetPosition),
                  behavior: 'smooth'
                });
                
                this.showNotification(
                  `Navegando a la secci√≥n ${link.textContent} üéØ`,
                  'info',
                  'Navegaci√≥n',
                  { duration: 2000 }
                );
              }
            }
          });
        });
      },

      initMobileOptimizations() {
        const newsletterEmail = document.getElementById('newsletter-email');
        if (newsletterEmail) {
          newsletterEmail.addEventListener('focus', function() {
            if (window.innerWidth < 768) {
              this.style.fontSize = '16px';
            }
          });
        }

        document.body.addEventListener('touchmove', (e) => {
          if (e.target === document.body) {
            e.preventDefault();
          }
        }, { passive: false });
      },

      preloadImages() {
        const imageUrls = [
          'images/oferta1.png',
          'images/oferta2.png',
          'images/oferta3.png',
          'images/oferta4.png',
          'images/Margarita.png',
          'images/LeonardoDaVinci.png',
          'images/Quatro formaggi.png'
        ];
        
        imageUrls.forEach(url => {
          const img = new Image();
          img.src = url;
        });
      },

      showDebugInfo() {
        const debugInfo = {
          'Estado Firebase': this.state.isFirebaseEnabled ? '‚úÖ Habilitado' : '‚ùå Deshabilitado',
          'Usuario actual': this.state.currentUser ? `‚úÖ ${this.state.currentUser.name}` : '‚ùå No logueado',
          'Email verificado': this.state.currentUser?.emailVerified ? '‚úÖ Verificado' : '‚ùå No verificado',
          'Modo actual': this.state.isFirebaseEnabled ? 'üî• Firebase' : 'üíæ localStorage'
        };
        
        const debugText = Object.entries(debugInfo)
          .map(([key, value]) => `${key}: ${value}`)
          .join('\n');
        
        this.showNotification(
          debugText,
          'info',
          'üîç Informaci√≥n de Debug',
          { duration: 10000 }
        );
      },

      cleanup() {
        Object.values(this.state.intervals).forEach(interval => {
          if (interval) clearInterval(interval);
        });
      }
    };

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        try {
          FratelliPazzi.init();
        } catch (error) {
          console.error('Error en inicializaci√≥n:', error);
          setTimeout(() => {
            const loader = document.getElementById('pageLoader');
            if (loader) {
              loader.style.display = 'none';
            }
          }, 1000);
        }
      });
    } else {
      try {
        FratelliPazzi.init();
      } catch (error) {
        console.error('Error en inicializaci√≥n:', error);
        setTimeout(() => {
          const loader = document.getElementById('pageLoader');
          if (loader) {
            loader.style.display = 'none';
          }
        }, 1000);
      }
    }

    // Make FratelliPazzi globally available
    window.FratelliPazzi = FratelliPazzi;

    // Make toggleDropdown globally available
    window.toggleDropdown = function(type = 'desktop') {
      FratelliPazzi.toggleDropdown(type);
    };

    // Make slider functions globally available
    window.moveSlider = function(direction) {
      console.log(`üé¨ Global moveSlider called with direction: ${direction}`);
      FratelliPazzi.moveSlider(direction);
    };

    window.moveSliderTo = function(index) {
      console.log(`üéØ Global moveSliderTo called with index: ${index}`);
      FratelliPazzi.moveSliderTo(index);
    };

    console.log(`
üçï FRATELLI PAZZI - BOTONES HORIZONTALES IMPLEMENTADOS
=====================================================

‚úÖ BOTONES "ENTRAR" Y "REGISTRO" AHORA HORIZONTALES:
‚Ä¢ Los botones aparecen uno al lado del otro
‚Ä¢ Aprovechan el espacio horizontal disponible
‚Ä¢ Optimizados para m√≥vil y desktop
‚Ä¢ Mantienen el dise√±o responsive
‚Ä¢ Estilos mejorados y consistentes

üì± LAYOUT M√ìVIL PERFECTO:
‚Ä¢ Primera l√≠nea: Logo + Botones (Entrar | Registro)
‚Ä¢ Segunda l√≠nea: Navegaci√≥n centrada
‚Ä¢ Botones compactos pero legibles
‚Ä¢ Transiciones suaves

üé® MEJORAS EN GUEST BUTTONS:
‚Ä¢ Clase .guest-buttons para layout horizontal
‚Ä¢ Gap optimizado entre botones
‚Ä¢ Tama√±os responsivos
‚Ä¢ flex-wrap: nowrap para mantener en l√≠nea
‚Ä¢ justify-content: flex-end para alineaci√≥n

üíª RESPONSIVE DESIGN:
‚Ä¢ Desktop: Botones normales horizontales
‚Ä¢ M√≥vil: Botones compactos horizontales
‚Ä¢ Pantallas peque√±as: Extra compactos pero funcionales

¬°Ahora los botones "Entrar" y "Registro" aparecen perfectamente uno al lado del otro! üéØ‚ú®
    `);
  </script>
</body>
</html>
